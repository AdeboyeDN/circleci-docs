---
layout: classic-docs
title: "Migrating from Ubuntu 14.04 to Ubuntu 20.04"
short-title: "14.04 to 20.04 Migration"
description: |
  Helpful information to aid in migrating from the CircleCI Ubuntu 14.04 images
  to the CircleCI Ubuntu 20.04 images. This is less of a step-by-step guide but
  rather one that points of changes and common gotchas.
order: 20
version:
- Cloud
- Server v3.x
- Server v2.x
---

* TOC
{:toc}

## Changes
{: #changes }

There's a of a lot of changes between Ubuntu 14.04 and 20.04.
Many are changes that Canonical have made (the company behind Ubuntu) but also changes that CircleCI have made to the software that we pre-install.
Let's go through them separately.

### Ubuntu 14.04 to 16.04

#### Changes

- Linux v4.4
- Python v2 is no longer installed by default. We, CircleCI, do install it however.
- OpenSSH
  - legacy SSH version 1 protocol is disabled by default
  - Support for the 1024-bit diffie-hellman-group1-sha1 key exchange is disabled by default
  - Support for ssh-dss, `ssh-dss-cert-*` host and user keys is disabled by default
  - Support for the legacy v00 cert format has been removed.
  - MD5-based and truncated HMAC algorithms are disabled by default in ssh.
- GNU toolchain
  - glibc was updated to the 2.23 release, binutils to the 2.26 release, and GCC to a recent snapshot from the GCC 5 branch (post GCC 5.3.0).
- Apt 1.2
- New in 16.04, the kernel crash dump mechanism now supports remote kernel crash dumps
- Ubuntu 16.04 includes version 1.9.15 of the Nginx web server, with an expectation to provide the next stable release of Nginx, 1.10.0, as an SRU after release (which will be virtually identical to 1.9.15).
- LXD 2.0
- PHP 7.0
- MySQL 5.7
- 

#### New

- snap package support


### Ubuntu 16.04 to 18.04

#### Changes

- Linux v5.3
- OpenJDK v11 is default (though CircleCI adds more to this)
- OpenSSL upgraded  from v1.1.0 to v1.1.1 enabling TLS v1.3
- netplan supports IPv6 privacy extensions
- netplan can bring up devices without an IP for anonymous bridges
- teaming support with libteam
- default DNS resolver is systemd-resolved
- gpg binary is provided by gnupg2
- OpenSSH now refuses to use RSA keys smaller than 1024 bits
- LXD 3.0
- QEMU 2.11.1 (I need to verify if customers can even use this
- libvirt 4.0 (same comment as above)
- DPDK 17.11.x
- Open vSwitch 2.9
- Chrony replaces ntpd
- nginx was updated to version 1.14.0
- PHP was updated to version 7.2.x
- Apache was updated to version 2.4.29. Additionally, HTTP/2 support is now enabled in 18.04.


### Ubuntu 18.04 to 20.04

#### Changes

- Linux v5.4
- Wireguard VPN support
- GNU Toolchain
  - glibc 2.31
  - OpenJDK 11
  - rustc 1.41
  - GCC 9.3
  - Python 3.8.2
  - Ruby 2.7.0
  - PHP 7.4
  - perl 5.30
  - Go 1.13
  - CircleCI chnages a lot of the above
- ZFS 0.8.3
- QEMU was updated to 4.2 (not sure if users can use)
- libvirt was updated to version 6.0 (same note)
- dpdk v19.11.1
- Open vSwitch has been updated to 2.13.
- Chrony v3.5
- Bind 9.16
- OpenSSH 8.2 added support for U2F/FIDO
- HAProxy 2.0
- Apache has been built with TLSv1.3 support,
- PostgreSQL 12
- nginx-core no longer ships with the legacy geoip module enabled by default
- Squid 4.x
- Ceph was updated to the 15.2.1 release


CircleCI Software Changes

| Software | Ubuntu 14.04 (default) | Ubuntu 16.04 (last image) | Ubuntu 20.04 (January 2022 Q1) |
| --- | --- | --- | --- |
| AWS CLI | 1.19.112 | 1.19.60 | 2.4.6 |
| Google Chrome | 54.0.2840.100 | 90.0.4430.93 | 96.0.4664.110 |
| Docker | 17.09.0 | 19.03.15 | 20.10.11 |
| Docker Compose | 1.14.0 | 1.29.1 | 1.29.2 |
| Firefox | 47.0.1 | 85.0 | 95.0.1 |
| GCP CLI | 174.0.0 | 337.0.0 | 365.0.0 |
| Go | 1.10.2 | 1.16.3 | 1.17.3 |
| Gradle | n/a | 6.5 | 7.3.2 |
| Heroku | 6.99.0 | 7.53.0 | 7.59.2 |
| jq | 1.5 | 1.5 | 1.6 |
| Leiningen | 2.7.1 | 2.9.3 | 2.9.8 |
| Maven | 3.2.5 | 3.6.3 | 3.8.4 |
| Node.js | n/a | 12.22.1 | 16.13.0 |
| npm | n/a | 7.11.1 | 8.3.0 |
| OpenJDK | 1.8.0_131 | 1.8.0_292 | 11.0.13 |
| Python2 | switch | switch | switch |
| Python3 | 3.4.3 | 3.9.4 | 3.9.7 |
| Ruby | 2.3.1 | 3.0.1 | 3.0.2 |
| SBT | n/a | 1.3.9 | 1.5.8 |
| yq | n/a | n/a | 4.13.5

SystemD is now default in our 20.04 (came out in 18.04).
