/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{var e={718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(256),i=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=i},965:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(425),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.makeGetRequest=function(e,t){return a.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(o(n(29)).default);t.default=s},425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(256),i=n(850).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var n=new XMLHttpRequest,o=new Promise((function(o,a){n.open("GET",e,!0),function(e,t){Object.keys(e).forEach((function(n){var r=e[n];t.setRequestHeader(n,r)}))}(t,n),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status)return void a(new Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach((function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),i=e.slice(t+2);i.length>0&&(r[n]=i)}})),r}(n),t={statusCode:n.status,body:n.responseText,headers:e};o(t)}},n.timeout=r.REQUEST_TIMEOUT_MS,n.ontimeout=function(){i.error("Request timed out")},n.send()}));return{responsePromise:o,abort:function(){n.abort()}}}},256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach((function(e){(0,n[e])(t)}))},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=n},29:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(850),a=n(265),s=i(n(925)),u=n(256),l=i(n(718)),c=o.getLogger("DatafileManager");function f(e){return e>=200&&e<400}var d={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},p=function(){function e(e){var t=this,n=r({},this.getConfigDefaults(),e),i=n.datafile,o=n.autoUpdate,f=void 0!==o&&o,p=n.sdkKey,h=n.updateInterval,g=void 0===h?u.DEFAULT_UPDATE_INTERVAL:h,v=n.urlTemplate,y=void 0===v?u.DEFAULT_URL_TEMPLATE:v,m=n.cache,E=void 0===m?d:m;this.cache=E,this.cacheKey="opt-datafile-"+p,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise((function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n})),i?(this.currentDatafile=i,p||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=a.sprintf(y,p),this.emitter=new s.default,this.autoUpdate=f,function(e){return e>=u.MIN_UPDATE_INTERVAL}(g)?this.updateInterval=g:(c.warn("Invalid updateInterval %s, defaulting to %s",g,u.DEFAULT_UPDATE_INTERVAL),this.updateInterval=u.DEFAULT_UPDATE_INTERVAL),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new l.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(c.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return c.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?c.error("Error fetching datafile: %s",e.message,e):"string"==typeof e?c.error("Error fetching datafile: %s",e):c.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){void 0!==e.statusCode&&f(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);if(""!==t)if(c.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled){var n={datafile:t};this.emitter.emit("update",n)}else this.resolveReadyPromise()}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),c.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,(function(){return JSON.stringify(t)})),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then((function(t){e.onRequestResolved(t)}),(function(t){e.onRequestRejected(t)})).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=this.backoffController.getDelay(),n=Math.max(t,this.updateInterval);c.debug("Scheduling sync in %s ms",n),this.currentTimeout=setTimeout((function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()}),n)},e.prototype.getNextDatafileFromResponse=function(e){return c.debug("Response status code: %s",e.statusCode),void 0===e.statusCode||304===e.statusCode?"":f(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];void 0!==t&&(this.lastResponseLastModified=t,c.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then((function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(c.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())}))},e}();t.default=p},212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(965);t.HttpPollingDatafileManager=r.default},461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var r=n(673),i=n(850),o=n(265);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var a=i.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(a.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(a.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),Math.max(1,e)},t.getQueue=function(e,t,n,i){return e>1?new r.DefaultEventQueue({flushInterval:t,maxQueueSize:e,sink:n,batchComparator:i}):new r.SingleEventQueue({sink:n})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(o.NOTIFICATION_TYPES.LOG_EVENT,t)}},673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var r=n(850).getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),o=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=o;var a=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.batchComparator=o,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(this.started){var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()}else r.warn("Queue is stopped, not accepting event")},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=a},774:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering}},571:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(774),t),i(n(366),t),i(n(461),t),i(n(134),t),i(n(202),t),i(n(677),t),i(n(637),t)},134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},202:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var o=n(850),a=n(429),s=n(265),u=o.getLogger("EventProcessor"),l=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:s.generateUUID(),timestamp:s.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();u.debug("Sending %s pending events from previous page",t.length),t.forEach((function(t){try{e.send(t,(function(){}))}catch(e){}}))},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,(function(r){n.store.remove(e.uuid),t(r)}))},e}();t.PendingEventsDispatcher=l;var c=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new a.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return i(t,e),t}(l);t.LocalStoragePendingEventsDispatcher=c},429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var r=n(265),i=n(850).getLogger("EventProcessor"),o=function(){function e(e){var t=e.key,n=e.maxValues,r=void 0===n?1e3:n;this.LS_KEY=t,this.maxValues=r}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return r.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(e){i.error(e)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map((function(t){return{key:t,value:e[t]}}));r.sort((function(e,t){return e.value.timestamp-t.value.timestamp}));for(var i=0;i<n;i++)delete e[r[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(e){i.error(e)}return{}},e}();t.LocalStorageStore=o},128:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var n=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach((function(e){return e()})),t.reqsCompleteResolvers=[])};e.then(n,n)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise((function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)}))},e}();t.default=n},677:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var r="$opt_bot_filtering";function i(e){var t=[],n=e[0];return e.forEach((function(e){if("conversion"===e.type||"impression"===e.type){var n=s(e);"impression"===e.type?n.snapshots.push(a(e)):"conversion"===e.type&&n.snapshots.push(o(e)),t.push(n)}})),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function o(e){var t=n({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}function a(e){var t=e.layer,n=e.experiment,r=e.variation,i=e.ruleKey,o=e.flagKey,a=e.ruleType,s=e.enabled,u=t?t.id:null;return{decisions:[{campaign_id:u,experiment_id:n?n.id:null,variation_id:r?r.id:null,metadata:{flag_key:o,rule_key:i,rule_type:a,variation_key:r?r.key:"",enabled:s}}],events:[{entity_id:u,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function s(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach((function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})})),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:r,key:r,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=i,t.buildImpressionEventV1=function(e){var t=s(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=s(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:i(e)}}},637:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var a=n(850),s=n(366),u=o(n(128)),l=n(774),c=n(677),f=a.getLogger("LogTierV1EventProcessor"),d=function(){function e(e){var t=e.dispatcher,n=e.flushInterval,r=void 0===n?s.DEFAULT_FLUSH_INTERVAL:n,i=e.batchSize,o=void 0===i?s.DEFAULT_BATCH_SIZE:i,a=e.notificationCenter;this.dispatcher=t,this.notificationCenter=a,this.requestTracker=new u.default,r=s.validateAndGetFlushInterval(r),o=s.validateAndGetBatchSize(o),this.queue=s.getQueue(o,r,this.drainQueue.bind(this),l.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,n=new Promise((function(n){if(f.debug("draining queue with %s events",e.length),0!==e.length){var r=c.formatEvents(e);t.dispatcher.dispatchEvent(r,(function(){n()})),s.sendEventNotification(t.notificationCenter,r)}else n()}));return this.requestTracker.trackRequest(n),n},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){f.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return this.queue.start(),[2]}))}))},e}();t.LogTierV1EventProcessor=d},115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=n;var r=new n;t.setErrorHandler=function(e){r=e},t.getErrorHandler=function(){return r},t.resetErrorHandler=function(){r=new n}},850:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(115)),r(n(468)),r(n(385))},385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(115),i=n(49),o=n(468),a={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function s(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),a[e]?a[e]:e)}var u=function(){function e(){this.defaultLoggerFacade=new d,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new d({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),l=function(){function e(e){void 0===e&&(e={}),this.logLevel=o.LogLevel.NOTSET,void 0!==e.logLevel&&i.isValidEnum(o.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=s(e),i.isValidEnum(o.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=o.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case o.LogLevel.DEBUG:return"DEBUG";case o.LogLevel.INFO:return"INFO ";case o.LogLevel.WARNING:return"WARN ";case o.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case o.LogLevel.DEBUG:console.log.apply(console,t);break;case o.LogLevel.INFO:console.info.apply(console,t);break;case o.LogLevel.WARNING:console.warn.apply(console,t);break;case o.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=l;var c=o.LogLevel.NOTSET,f=null,d=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){this.internalLog(s(e),{message:t,splat:[]})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+i.sprintf.apply(void 0,[e.message].concat(e.splat))},e.prototype.internalLog=function(e,t){f&&(e<c||(f.log(e,this.format(t)),t.error&&t.error instanceof Error&&r.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,n){var r;if(t instanceof Error)return t=(r=t).message,void this.internalLog(e,{error:r,message:t,splat:n});if(0!==n.length){var i=n[n.length-1];i instanceof Error&&(r=i,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})}else this.internalLog(e,{message:t,splat:n})},e}(),p=new u;t.getLogger=function(e){return p.getLogger(e)},t.setLogHandler=function(e){f=e},t.setLogLevel=function(e){e=s(e),c=i.isValidEnum(o.LogLevel,e)&&void 0!==e?e:o.LogLevel.ERROR},t.getLogLevel=function(){return c},t.resetLogger=function(){p=new u,c=o.LogLevel.NOTSET}},468:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.LogLevel||(t.LogLevel={}))[n.NOTSET=0]="NOTSET",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR"},49:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(865);function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.getTimestamp=function(){return(new Date).getTime()},t.generateUUID=function(){return r.v4()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),i(n)},t.objectValues=i,t.find=function(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))}},865:(e,t,n)=>{var r=n(109),i=n(755),o=i;o.v1=r,o.v4=i,e.exports=o},413:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},749:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},109:(e,t,n)=>{var r,i,o=n(749),a=n(413),s=0,u=0;e.exports=function(e,t,n){var l=t&&n||0,c=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=h-s+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=g,i=d;var y=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;c[l++]=y>>>24&255,c[l++]=y>>>16&255,c[l++]=y>>>8&255,c[l++]=255&y;var m=h/4294967296*1e4&268435455;c[l++]=m>>>8&255,c[l++]=255&m,c[l++]=m>>>24&15|16,c[l++]=m>>>16&255,c[l++]=d>>>8|128,c[l++]=255&d;for(var E=0;E<6;++E)c[l+E]=f[E];return t||a(c)}},755:(e,t,n)=>{var r=n(749),i=n(413);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(485);function o(e){return Object.keys(e).map((function(t){return e[t]}))}t.generateUUID=function(){return i.v4()},t.getTimestamp=function(){return(new Date).getTime()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),o(n)},t.objectValues=o,t.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.find=function(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))},(r=t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",r.DECISION="DECISION:type, userId, attributes, decisionInfo",r.LOG_EVENT="LOG_EVENT:logEvent",r.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",r.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"},485:(e,t,n)=>{var r=n(889),i=n(166),o=i;o.v1=r,o.v4=i,e.exports=o},159:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},620:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},889:(e,t,n)=>{var r,i,o=n(620),a=n(159),s=0,u=0;e.exports=function(e,t,n){var l=t&&n||0,c=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=h-s+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=g,i=d;var y=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;c[l++]=y>>>24&255,c[l++]=y>>>16&255,c[l++]=y>>>8&255,c[l++]=255&y;var m=h/4294967296*1e4&268435455;c[l++]=m>>>8&255,c[l++]=255&m,c[l++]=m>>>24&15|16,c[l++]=m>>>16&255,c[l++]=d>>>8|128,c[l++]=255&d;for(var E=0;E<6;++E)c[l+E]=f[E];return t||a(c)}},166:(e,t,n)=>{var r=n(620),i=n(159);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},533:(e,t,n)=>{"use strict";var r,i=n(850),o=n(571),a=n(265),s=n(212),u=(r=n(697))&&"object"==typeof r&&"default"in r?r.default:r,l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var f={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},d={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},p={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s bucketed into everyone targeting rule.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},h={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent"},g=["node-sdk","react-sdk","javascript-sdk"],v=a.NOTIFICATION_TYPES,y={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},m={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},E={RULE:"rule",EXPERIMENT:"experiment"},_={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},I={V2:"2",V3:"3",V4:"4"},T={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'},b=(Object.freeze({__proto__:null,LOG_LEVEL:f,ERROR_MESSAGES:d,LOG_MESSAGES:p,CONTROL_ATTRIBUTES:h,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",NODE_CLIENT_VERSION:"4.6.2",VALID_CLIENT_ENGINES:g,NOTIFICATION_TYPES:v,DECISION_NOTIFICATION_TYPES:y,DECISION_SOURCES:m,AUDIENCE_EVALUATION_TYPES:E,FEATURE_VARIABLE_TYPES:_,DATAFILE_VERSIONS:I,DECISION_MESSAGES:T}),"CONFIG_VALIDATOR"),O=[I.V2,I.V3,I.V4],N=function(e){if("object"==typeof e&&null!==e){var t=e,n=t.errorHandler,r=t.eventDispatcher,i=t.logger;if(n&&"function"!=typeof n.handleError)throw new Error(a.sprintf(d.INVALID_ERROR_HANDLER,b));if(r&&"function"!=typeof r.dispatchEvent)throw new Error(a.sprintf(d.INVALID_EVENT_DISPATCHER,b));if(i&&"function"!=typeof i.log)throw new Error(a.sprintf(d.INVALID_LOGGER,b));return!0}throw new Error(a.sprintf(d.INVALID_CONFIG,b))},R={dispatchEvent:function(e,t){var n,r=e.params,i=e.url;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",i,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send(JSON.stringify(r))):(i+="?wxhr=true",r&&(i+="&"+function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(r)),(n=new XMLHttpRequest).open("GET",i,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send())}},A=function(){function e(){}return e.prototype.log=function(){},e}();function x(e){return new i.ConsoleLogHandler(e)}var w;Object.freeze({__proto__:null,NoOpLogger:A,createLogger:x,createNoOpLogger:function(){return new A}});function L(e,t,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:n}}(w=t.N1||(t.N1={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",w.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",w.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",w.INCLUDE_REASONS="INCLUDE_REASONS",w.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var S=function(){function e(e){var t,n=e.optimizely,r=e.userId,i=e.attributes;this.optimizely=n,this.userId=r,this.attributes=null!==(t=l({},i))&&void 0!==t?t:{}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return l({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.cloneUserContext=function(){return new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()})},e}(),C=Math.pow(2,53),D={assign:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,c([e],t));for(var r=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=C},keyBy:function(e,t){return e?a.keyBy(e,(function(e){return e[t]})):{}},uuid:a.generateUUID,isNumber:function(e){return"number"==typeof e}},U="PROJECT_CONFIG",k=function(e,t){void 0===t&&(t=null);var n,r,i=(n=e,(r=D.assign({},n)).audiences=(n.audiences||[]).map((function(e){return D.assign({},e)})),r.experiments=(n.experiments||[]).map((function(e){return D.assign({},e)})),r.featureFlags=(n.featureFlags||[]).map((function(e){return D.assign({},e)})),r.groups=(n.groups||[]).map((function(e){var t=D.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return D.assign({},e)})),t})),r.rollouts=(n.rollouts||[]).map((function(e){var t=D.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return D.assign({},e)})),t})),r);return i.__datafileStr=null===t?JSON.stringify(e):t,(i.audiences||[]).forEach((function(e){e.conditions=JSON.parse(e.conditions)})),i.audiencesById=D.keyBy(i.audiences,"id"),D.assign(i.audiencesById,D.keyBy(i.typedAudiences,"id")),i.attributeKeyMap=D.keyBy(i.attributes,"key"),i.eventKeyMap=D.keyBy(i.events,"key"),i.groupIdMap=D.keyBy(i.groups,"id"),Object.keys(i.groupIdMap||{}).forEach((function(e){(i.groupIdMap[e].experiments||[]).forEach((function(t){i.experiments.push(D.assign(t,{groupId:e}))}))})),i.rolloutIdMap=D.keyBy(i.rollouts||[],"id"),a.objectValues(i.rolloutIdMap||{}).forEach((function(e){(e.experiments||[]).forEach((function(e){i.experiments.push(e),e.variationKeyMap=D.keyBy(e.variations,"key")}))})),i.experimentKeyMap=D.keyBy(i.experiments,"key"),i.experimentIdMap=D.keyBy(i.experiments,"id"),i.variationIdMap={},i.variationVariableUsageMap={},(i.experiments||[]).forEach((function(e){e.variationKeyMap=D.keyBy(e.variations,"key"),D.assign(i.variationIdMap,D.keyBy(e.variations,"id")),a.objectValues(e.variationKeyMap||{}).forEach((function(e){e.variables&&(i.variationVariableUsageMap[e.id]=D.keyBy(e.variables,"id"))}))})),i.experimentFeatureMap={},i.featureKeyMap=D.keyBy(i.featureFlags||[],"key"),a.objectValues(i.featureKeyMap||{}).forEach((function(e){e.variables.forEach((function(e){e.type===_.STRING&&e.subType===_.JSON&&(e.type=_.JSON,delete e.subType)})),e.variableKeyMap=D.keyBy(e.variables,"key"),(e.experimentIds||[]).forEach((function(t){i.experimentFeatureMap[t]?i.experimentFeatureMap[t].push(e.id):i.experimentFeatureMap[t]=[e.id]}))})),i},P=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(a.sprintf(d.INVALID_EXPERIMENT_ID,U,t));return n.layerId},V=function(e,t,n){var r=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return r?(i&&n.log(f.WARNING,a.sprintf("Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_")),r.id):i?t:(n.log(f.DEBUG,a.sprintf(d.UNRECOGNIZED_ATTRIBUTE,U,t)),null)},M=function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},F=function(e,t){var n=e.experimentKeyMap[t];if(!n)throw new Error(a.sprintf(d.INVALID_EXPERIMENT_KEY,U,t));return n.status},j=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(a.sprintf(d.INVALID_EXPERIMENT_ID,U,t));return n.audienceConditions||n.audienceIds},B=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},H=function(e,t,n){var r=e.experimentIdMap[t];return r.variationKeyMap.hasOwnProperty(n)?r.variationKeyMap[n].id:null},q=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw new Error(a.sprintf(d.EXPERIMENT_KEY_NOT_IN_DATAFILE,U,t))},G=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(a.sprintf(d.INVALID_EXPERIMENT_ID,U,t));return n.trafficAllocation},K=function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(f.ERROR,a.sprintf(d.INVALID_EXPERIMENT_ID,U,t)),null},W=function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(f.ERROR,a.sprintf(d.FEATURE_NOT_IN_DATAFILE,U,t)),null},Y=function(e,t,n,r){var i=e.featureKeyMap[t];return i?i.variableKeyMap[n]||(r.log(f.ERROR,a.sprintf(d.VARIABLE_KEY_NOT_IN_DATAFILE,U,n,t)),null):(r.log(f.ERROR,a.sprintf(d.FEATURE_NOT_IN_DATAFILE,U,t)),null)},z=function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(f.ERROR,a.sprintf(d.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,U,n.id)),null;var i=e.variationVariableUsageMap[n.id][t.id];return i?i.value:null},$=function(e,t,n){var r;switch(t){case _.BOOLEAN:"true"!==e&&"false"!==e?(n.log(f.ERROR,a.sprintf(d.UNABLE_TO_CAST_VALUE,U,e,t)),r=null):r="true"===e;break;case _.INTEGER:r=parseInt(e,10),isNaN(r)&&(n.log(f.ERROR,a.sprintf(d.UNABLE_TO_CAST_VALUE,U,e,t)),r=null);break;case _.DOUBLE:r=parseFloat(e),isNaN(r)&&(n.log(f.ERROR,a.sprintf(d.UNABLE_TO_CAST_VALUE,U,e,t)),r=null);break;case _.JSON:try{r=JSON.parse(e)}catch(i){n.log(f.ERROR,a.sprintf(d.UNABLE_TO_CAST_VALUE,U,e,t)),r=null}break;default:r=e}return r},X=function(e,t){return e.experimentFeatureMap.hasOwnProperty(t)},J=function(e){return!!e.sendFlagDecisions},Z=function(e){return e.__datafileStr},Q=function(e){var t;try{t=function(e){if(!e)throw new Error(a.sprintf(d.NO_DATAFILE_SPECIFIED,b));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(a.sprintf(d.INVALID_DATAFILE_MALFORMED,b))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===O.indexOf(e.version))throw new Error(a.sprintf(d.INVALID_DATAFILE_VERSION,b,e.version));return e}(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(f.INFO,a.sprintf(p.VALID_DATAFILE,U))}catch(e){return{configObj:null,error:e}}else e.logger.log(f.INFO,a.sprintf(p.SKIPPING_JSON_VALIDATION,U));var n=[t];return"string"==typeof e.datafile&&n.push(e.datafile),{configObj:k.apply(void 0,n),error:null}},ee=function(){function e(t,n){this.experimentsMap=e.getExperimentsMap(t),this.featuresMap=e.getFeaturesMap(t,this.experimentsMap),this.revision=t.revision,this.datafile=n}return e.prototype.getDatafile=function(){return this.datafile},e.getRolloutExperimentIds=function(e){return(e||[]).reduce((function(e,t){return t.experiments.forEach((function(t){e[t.id]=!0})),e}),{})},e.getExperimentsMap=function(e){var t=this,n=this.getRolloutExperimentIds(e.rollouts),r=(e.featureFlags||[]).reduce((function(e,t){return e[t.id]=t.variables,e}),{});return(e.experiments||[]).reduce((function(i,o){return n[o.id]||(i[o.key]={id:o.id,key:o.key,variationsMap:(o.variations||[]).reduce((function(n,i){return n[i.key]={id:i.id,key:i.key,variablesMap:t.getMergedVariablesMap(e,i,o.id,r)},X(e,o.id)&&(n[i.key].featureEnabled=i.featureEnabled),n}),{})}),i}),{})},e.getMergedVariablesMap=function(e,t,n,r){var i=e.experimentFeatureMap[n],o={};if(i){var a=r[i.toString()],s=(t.variables||[]).reduce((function(e,t){return e[t.id]={id:t.id,value:t.value},e}),{});o=(a||[]).reduce((function(e,n){var r=s[n.id],i=t.featureEnabled&&r?r.value:n.defaultValue;return e[n.key]={id:n.id,key:n.key,type:n.type,value:i},e}),{})}return o},e.getFeaturesMap=function(e,t){return(e.featureFlags||[]).reduce((function(n,r){return n[r.key]={id:r.id,key:r.key,experimentsMap:(r.experimentIds||[]).reduce((function(n,r){var i=e.experimentIdMap[r].key;return n[i]=t[i],n}),{}),variablesMap:(r.variables||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{})},n}),{})},e}(),te=i.getLogger();function ne(e,t){return e instanceof Error?e.message:t||"Unknown error"}function re(e){try{this.__initialize(e)}catch(e){te.error(e),this.__updateListeners=[],this.__configObj=null,this.__optimizelyConfigObj=null,this.__readyPromise=Promise.resolve({success:!1,reason:ne(e,"Error in initialize")})}}re.prototype.__initialize=function(e){if(this.__updateListeners=[],this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){this.__configObj=null;var t=new Error(a.sprintf(d.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.__readyPromise=Promise.resolve({success:!1,reason:ne(t)}),void te.error(t)}var n;if(e.datafile?(n=this.__handleNewDatafile(e.datafile))&&(this.__configObj=null):this.__configObj=null,e.sdkKey){var r={sdkKey:e.sdkKey};this.__validateDatafileOptions(e.datafileOptions)&&D.assign(r,e.datafileOptions),this.__configObj&&(r.datafile=Z(this.__configObj)),this.datafileManager=new s.HttpPollingDatafileManager(r),this.datafileManager.start(),this.__readyPromise=this.datafileManager.onReady().then(this.__onDatafileManagerReadyFulfill.bind(this),this.__onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.__onDatafileManagerUpdate.bind(this))}else this.__configObj?this.__readyPromise=Promise.resolve({success:!0}):this.__readyPromise=Promise.resolve({success:!1,reason:ne(n,"Invalid datafile")})},re.prototype.__onDatafileManagerReadyFulfill=function(){var e=this.__handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:ne(e)}:{success:!0}},re.prototype.__onDatafileManagerReadyReject=function(e){return{success:!1,reason:ne(e,"Failed to become ready")}},re.prototype.__onDatafileManagerUpdate=function(){this.__handleNewDatafile(this.datafileManager.get())},re.prototype.__validateDatafileOptions=function(e){return void 0===e||"object"==typeof e&&null!==e},re.prototype.__handleNewDatafile=function(e){var t=Q({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:te}),n=t.configObj,r=t.error;return r?te.error(r):(this.__configObj?this.__configObj.revision:"null")!==n.revision&&(this.__configObj=n,this.__optimizelyConfigObj=function(e,t){return new ee(e,t)}(this.__configObj,Z(this.__configObj)),this.__updateListeners.forEach((function(e){e(n)}))),r},re.prototype.getConfig=function(){return this.__configObj},re.prototype.getOptimizelyConfig=function(){return this.__optimizelyConfigObj},re.prototype.onReady=function(){return this.__readyPromise},re.prototype.onUpdate=function(e){return this.__updateListeners.push(e),function(){var t=this.__updateListeners.indexOf(e);t>-1&&this.__updateListeners.splice(t,1)}.bind(this)},re.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.__updateListeners=[]};var ie=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},a.objectValues(v).forEach((function(e){t.notificationListeners[e]=[]})),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(a.objectValues(v).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var n=!1;if((this.notificationListeners[e]||[]).forEach((function(e){e.callback!==t||(n=!0)})),n)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var r=this.listenerId;return this.listenerId+=1,r}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t=this;try{var n,r;if(Object.keys(this.notificationListeners).some((function(i){return(t.notificationListeners[i]||[]).every((function(t,o){return t.id!==e||(n=o,r=i,!1)})),void 0!==n&&void 0!==r})),void 0!==n&&void 0!==r)return this.notificationListeners[r].splice(n,1),!0}catch(e){this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{a.objectValues(v).forEach((function(t){e.notificationListeners[t]=[]}))}catch(e){this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var n=this;try{(this.notificationListeners[e]||[]).forEach((function(r){var i=r.callback;try{i(t)}catch(t){n.logger.log(f.ERROR,a.sprintf(p.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message))}}))}catch(e){this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),oe=Math.pow(2,32),ae=function(e){var t=[],n=e.experimentIdMap[e.experimentId].groupId;if(n){var r=e.groupIdMap[n];if(!r)throw new Error(a.sprintf(d.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var i=se(r,e.bucketingId,e.userId,e.logger);if(null===i){var o=a.sprintf(p.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n);return e.logger.log(f.INFO,o),t.push(o),{result:null,reasons:t}}if(i!==e.experimentId){var s=a.sprintf(p.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n);return e.logger.log(f.INFO,s),t.push(s),{result:null,reasons:t}}var u=a.sprintf(p.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n);e.logger.log(f.INFO,u),t.push(u)}}var l=a.sprintf("%s%s",e.bucketingId,e.experimentId),c=le(l),h=a.sprintf(p.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",c,e.userId);e.logger.log(f.DEBUG,h),t.push(h);var g=ue(c,e.trafficAllocationConfig);if(null!==g&&!e.variationIdMap[g]){if(g){var v=a.sprintf(p.INVALID_VARIATION_ID,"BUCKETER");e.logger.log(f.WARNING,v),t.push(v)}return{result:null,reasons:t}}return{result:g,reasons:t}},se=function(e,t,n,r){var i=a.sprintf("%s%s",t,e.id),o=le(i);r.log(f.DEBUG,a.sprintf(p.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,n));var s=e.trafficAllocation;return ue(o,s)},ue=function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},le=function(e){try{var t=u.v3(e,1)/oe;return Math.floor(1e4*t)}catch(t){throw new Error(a.sprintf(d.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ce=["and","or","not"];function fe(e,t){if(Array.isArray(e)){var n=e[0],r=e.slice(1);switch("string"==typeof n&&-1===ce.indexOf(n)&&(n="or",r=e),n){case"and":return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=fe(e[r],t);if(!1===i)return!1;null===i&&(n=!0)}return!n||null}return null}(r,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var n=fe(e[0],t);return null===n?null:!n}return null}(r,t);default:return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=fe(e[r],t);if(!0===i)return!0;null===i&&(n=!0)}return!!n&&null}return null}(r,t)}}return t(e)}var de=i.getLogger();function pe(e){return/^\d+$/.test(e)}function he(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(t<0)&&(n<0||t<n)}function ge(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(n<0)&&(t<0||n<t)}function ve(e){var t=e,n="";if(function(e){return/\s/.test(e)}(e))return de.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(he(e)?(t=e.substring(0,e.indexOf("-")),n=e.substring(e.indexOf("-")+1)):ge(e)&&(t=e.substring(0,e.indexOf("+")),n=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof n)return null;var r=t.split(".").length-1;if(r>2)return de.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=r+1)return de.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0,a=i;o<a.length;o++)if(!pe(a[o]))return de.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return n&&i.push(n),i}var ye="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",me=i.getLogger(),Ee=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],_e={};function Ie(e){return"string"==typeof e||"boolean"==typeof e||D.isNumber(e)}function Te(e,t){var n=e.value,r=typeof n,i=e.name,o=t[i],a=typeof o;return!Ie(n)||D.isNumber(n)&&!D.isSafeInteger(n)?(me.warn(p.UNEXPECTED_CONDITION_VALUE,ye,JSON.stringify(e)),null):null===o?(me.debug(p.UNEXPECTED_TYPE_NULL,ye,JSON.stringify(e),i),null):Ie(o)&&r===a?D.isNumber(o)&&!D.isSafeInteger(o)?(me.warn(p.OUT_OF_BOUNDS,ye,JSON.stringify(e),i),null):n===o:(me.warn(p.UNEXPECTED_TYPE,ye,JSON.stringify(e),a,i),null)}function be(e,t){var n=e.name,r=t[n],i=typeof r,o=e.value;return null!==o&&D.isSafeInteger(o)?null===r?(me.debug(p.UNEXPECTED_TYPE_NULL,ye,JSON.stringify(e),n),!1):D.isNumber(r)?!!D.isSafeInteger(r)||(me.warn(p.OUT_OF_BOUNDS,ye,JSON.stringify(e),n),!1):(me.warn(p.UNEXPECTED_TYPE,ye,JSON.stringify(e),i,n),!1):(me.warn(p.UNEXPECTED_CONDITION_VALUE,ye,JSON.stringify(e)),!1)}function Oe(e,t){var n=e.name,r=t[n],i=typeof r,o=e.value;return"string"!=typeof o?(me.warn(p.UNEXPECTED_CONDITION_VALUE,ye,JSON.stringify(e)),null):null===r?(me.debug(p.UNEXPECTED_TYPE_NULL,ye,JSON.stringify(e),n),null):"string"!=typeof r?(me.warn(p.UNEXPECTED_TYPE,ye,JSON.stringify(e),i,n),null):function(e,t){var n=ve(t),r=ve(e);if(!n||!r)return null;for(var i=n.length,o=0;o<r.length;o++){if(i<=o)return he(e)||ge(e)?1:-1;if(pe(n[o])){var a=parseInt(n[o]),s=parseInt(r[o]);if(a>s)return 1;if(a<s)return-1}else{if(n[o]<r[o])return he(e)&&!he(t)?1:-1;if(n[o]>r[o])return!he(e)&&he(t)?-1:1}}return he(t)&&!he(e)?-1:0}(o,r)}_e.exact=Te,_e.exists=function(e,t){return null!=t[e.name]},_e.gt=function(e,t){var n=t[e.name],r=e.value;return be(e,t)&&null!==r?n>r:null},_e.ge=function(e,t){var n=t[e.name],r=e.value;return be(e,t)&&null!==r?n>=r:null},_e.lt=function(e,t){var n=t[e.name],r=e.value;return be(e,t)&&null!==r?n<r:null},_e.le=function(e,t){var n=t[e.name],r=e.value;return be(e,t)&&null!==r?n<=r:null},_e.substring=function(e,t){var n=e.name,r=t[e.name],i=typeof r,o=e.value;return"string"!=typeof o?(me.warn(p.UNEXPECTED_CONDITION_VALUE,ye,JSON.stringify(e)),null):null===r?(me.debug(p.UNEXPECTED_TYPE_NULL,ye,JSON.stringify(e),n),null):"string"!=typeof r?(me.warn(p.UNEXPECTED_TYPE,ye,JSON.stringify(e),i,n),null):-1!==r.indexOf(o)},_e.semver_eq=function(e,t){var n=Oe(e,t);return null===n?null:0===n},_e.semver_gt=function(e,t){var n=Oe(e,t);return null===n?null:n>0},_e.semver_ge=function(e,t){var n=Oe(e,t);return null===n?null:n>=0},_e.semver_lt=function(e,t){var n=Oe(e,t);return null===n?null:n<0},_e.semver_le=function(e,t){var n=Oe(e,t);return null===n?null:n<=0};var Ne=Object.freeze({__proto__:null,evaluate:function(e,t){var n=e.match;if(void 0!==n&&-1===Ee.indexOf(n))return me.warn(p.UNKNOWN_MATCH_TYPE,ye,JSON.stringify(e)),null;var r=e.name;return t.hasOwnProperty(r)||"exists"==n?(n&&_e[n]||Te)(e,t):(me.debug(p.MISSING_ATTRIBUTE_VALUE,ye,JSON.stringify(e),r),null)}}),Re=i.getLogger(),Ae=function(){function e(e){this.typeToEvaluatorMap=D.assign({},e,{custom_attribute:Ne})}return e.prototype.evaluate=function(e,t,n){var r=this;return void 0===n&&(n={}),!e||0===e.length||!!fe(e,(function(e){var i=t[e];if(i){Re.log(f.DEBUG,a.sprintf(p.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(i.conditions)));var o=fe(i.conditions,r.evaluateConditionWithUserAttributes.bind(r,n)),s=null===o?"UNKNOWN":o.toString().toUpperCase();return Re.log(f.DEBUG,a.sprintf(p.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,s)),o}return null}))},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return Re.log(f.WARNING,a.sprintf(p.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t))),null;try{return n.evaluate(t,e)}catch(e){Re.log(f.ERROR,a.sprintf(d.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message))}return null},e}();function xe(e){return"string"==typeof e&&""!==e}var we="DECISION_SERVICE",Le=function(){function e(e){var t;this.audienceEvaluator=(t=e.UNSTABLE_conditionEvaluators,new Ae(t)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,n,r,i,o){void 0===o&&(o={});var s=this.getBucketingId(r,i),u=[],l=n.key;if(!this.checkIfExperimentIsActive(e,l)){var c=a.sprintf(p.EXPERIMENT_NOT_RUNNING,we,l);return this.logger.log(f.INFO,c),u.push(c),{result:null,reasons:u}}var d=this.getForcedVariation(e,l,r);u.push.apply(u,d.reasons);var h=d.result;if(h)return{result:h,reasons:u};var g=this.getWhitelistedVariation(n,r);u.push.apply(u,g.reasons);var v=g.result;if(v)return{result:v.key,reasons:u};var y=o[t.N1.IGNORE_USER_PROFILE_SERVICE],m=this.resolveExperimentBucketMap(r,i);if(!y&&(v=this.getStoredVariation(e,n,r,m))){var _=a.sprintf(p.RETURNING_STORED_VARIATION,we,v.key,l,r);return this.logger.log(f.INFO,_),u.push(_),{result:v.key,reasons:u}}var I=this.checkIfUserIsInAudience(e,n,E.EXPERIMENT,i,"");if(u.push.apply(u,I.reasons),!I.result){var T=a.sprintf(p.USER_NOT_IN_EXPERIMENT,we,r,l);return this.logger.log(f.INFO,T),u.push(T),{result:null,reasons:u}}var b=this.buildBucketerParams(e,n,s,r),O=ae(b);u.push.apply(u,O.reasons);var N=O.result;if(N&&(v=e.variationIdMap[N]),!v){var R=a.sprintf(p.USER_HAS_NO_VARIATION,we,r,l);return this.logger.log(f.DEBUG,R),u.push(R),{result:null,reasons:u}}var A=a.sprintf(p.USER_HAS_VARIATION,we,r,v.key,l);return this.logger.log(f.INFO,A),u.push(A),y||this.saveUserProfile(n,v,r,m),{result:v.key,reasons:u}},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.getUserProfile(e)||{},r=t[h.STICKY_BUCKETING_KEY];return D.assign({},n.experiment_bucket_map,r)},e.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===F(e,t)}(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var n=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];if(e.variationKeyMap.hasOwnProperty(r)){var i=a.sprintf(p.USER_FORCED_IN_VARIATION,we,t,r);return this.logger.log(f.INFO,i),n.push(i),{result:e.variationKeyMap[r],reasons:n}}var o=a.sprintf(p.FORCED_BUCKETING_FAILED,we,r,t);return this.logger.log(f.ERROR,o),n.push(o),{result:null,reasons:n}}return{result:null,reasons:n}},e.prototype.checkIfUserIsInAudience=function(e,t,n,r,i){var o=[],s=j(e,t.id),u=function(e){return e.audiencesById}(e),l=a.sprintf(p.EVALUATING_AUDIENCES_COMBINED,we,n,i||t.key,JSON.stringify(s));this.logger.log(f.DEBUG,l),o.push(l);var c=this.audienceEvaluator.evaluate(s,u,r),d=a.sprintf(p.AUDIENCE_EVALUATION_RESULT_COMBINED,we,n,i||t.key,c.toString().toUpperCase());return this.logger.log(f.INFO,d),o.push(d),{result:c,reasons:o}},e.prototype.buildBucketerParams=function(e,t,n,r){return{bucketingId:n,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:G(e,t.id),userId:r,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var i=r[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(f.INFO,a.sprintf(p.SAVED_VARIATION_NOT_FOUND,we,n,o,t.key))}return null},e.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(f.ERROR,a.sprintf(d.USER_PROFILE_LOOKUP_ERROR,we,e,t.message))}return null},e.prototype.saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{r[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:r}),this.logger.log(f.INFO,a.sprintf(p.SAVED_VARIATION,we,t.key,e.key,n))}catch(e){this.logger.log(f.ERROR,a.sprintf(d.USER_PROFILE_SAVE_ERROR,we,n,e.message))}},e.prototype.getVariationForFeature=function(e,t,n,r,i){void 0===i&&(i={});var o=[],s=this.getVariationForFeatureExperiment(e,t,n,r,i);o.push.apply(o,s.reasons);var u=s.result;if(null!==u.variation)return{result:u,reasons:o};var l=this.getVariationForRollout(e,t,n,r);o.push.apply(o,l.reasons);var c=l.result;if(c.variation){var d=a.sprintf(p.USER_IN_ROLLOUT,we,n,t.key);return this.logger.log(f.DEBUG,d),o.push(d),{result:c,reasons:o}}var h=a.sprintf(p.USER_NOT_IN_ROLLOUT,we,n,t.key);return this.logger.log(f.DEBUG,h),o.push(h),{result:c,reasons:o}},e.prototype.getVariationForFeatureExperiment=function(e,t,n,r,i){void 0===i&&(i={});var o,s,u=[],l=null;if(t.experimentIds.length>0)for(s=0;s<t.experimentIds.length;s++){var c=K(e,t.experimentIds[s],this.logger);if(c&&(o=this.getVariation(e,c,n,r,i),u.push.apply(u,o.reasons),l=o.result))return{result:{experiment:c,variation:c.variationKeyMap[l],decisionSource:m.FEATURE_TEST},reasons:u}}else{var d=a.sprintf(p.FEATURE_HAS_NO_EXPERIMENTS,we,t.key);this.logger.log(f.DEBUG,d),u.push(d)}return{result:{experiment:null,variation:null,decisionSource:m.FEATURE_TEST},reasons:u}},e.prototype.getVariationForRollout=function(e,t,n,r){var i=[];if(!t.rolloutId){var o=a.sprintf(p.NO_ROLLOUT_EXISTS,we,t.key);return this.logger.log(f.DEBUG,o),i.push(o),{result:{experiment:null,variation:null,decisionSource:m.ROLLOUT},reasons:i}}var s=e.rolloutIdMap[t.rolloutId];if(!s){var u=a.sprintf(d.INVALID_ROLLOUT_ID,we,t.rolloutId,t.key);return this.logger.log(f.ERROR,u),i.push(u),{result:{experiment:null,variation:null,decisionSource:m.ROLLOUT},reasons:i}}if(0===s.experiments.length){var l=a.sprintf(p.ROLLOUT_HAS_NO_EXPERIMENTS,we,t.rolloutId);return this.logger.log(f.ERROR,l),i.push(l),{result:{experiment:null,variation:null,decisionSource:m.ROLLOUT},reasons:i}}for(var c,h,g,v,y,_,I,T=this.getBucketingId(n,r),b=s.experiments.length-1,O=0;O<b;O++){if(c=e.experimentIdMap[s.experiments[O].id],y=O+1,I=this.checkIfUserIsInAudience(e,c,E.RULE,r,y),i.push.apply(i,I.reasons),I.result){var N=a.sprintf(p.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,we,n,y);if(this.logger.log(f.DEBUG,N),i.push(N),h=this.buildBucketerParams(e,c,T,n),_=ae(h),i.push.apply(i,_.reasons),(g=_.result)&&(v=e.variationIdMap[g]),v){var R=a.sprintf(p.USER_BUCKETED_INTO_TARGETING_RULE,we,n,y);return this.logger.log(f.DEBUG,R),i.push(R),{result:{experiment:c,variation:v,decisionSource:m.ROLLOUT},reasons:i}}var A=a.sprintf(p.USER_NOT_BUCKETED_INTO_TARGETING_RULE,we,n,y);this.logger.log(f.DEBUG,A),i.push(A);break}var x=a.sprintf(p.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,we,n,y);this.logger.log(f.DEBUG,x),i.push(x)}var w=e.experimentKeyMap[s.experiments[b].key],L=this.checkIfUserIsInAudience(e,w,E.RULE,r,"Everyone Else");if(i.push.apply(i,L.reasons),L.result){var S=a.sprintf(p.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,we,n,"Everyone Else");if(this.logger.log(f.DEBUG,S),i.push(S),h=this.buildBucketerParams(e,w,T,n),_=ae(h),i.push.apply(i,_.reasons),(g=_.result)&&(v=e.variationIdMap[g]),v){var C=a.sprintf(p.USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE,we,n);return this.logger.log(f.DEBUG,C),i.push(C),{result:{experiment:w,variation:v,decisionSource:m.ROLLOUT},reasons:i}}var D=a.sprintf(p.USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE,we,n);this.logger.log(f.DEBUG,D),i.push(D)}return{result:{experiment:null,variation:null,decisionSource:m.ROLLOUT},reasons:i}},e.prototype.getBucketingId=function(e,t){var n=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(h.BUCKETING_ID)&&("string"==typeof t[h.BUCKETING_ID]?(n=t[h.BUCKETING_ID],this.logger.log(f.DEBUG,a.sprintf(p.VALID_BUCKETING_ID,we,n))):this.logger.log(f.WARNING,a.sprintf(p.BUCKETING_ID_NOT_STRING,we))),n},e.prototype.removeForcedVariation=function(e,t,n){if(!e)throw new Error(a.sprintf(d.INVALID_USER_ID,we));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(a.sprintf(d.USER_NOT_IN_FORCED_VARIATION,we,e));delete this.forcedVariationMap[e][t],this.logger.log(f.DEBUG,a.sprintf(p.VARIATION_REMOVED_FOR_USER,we,n,e))},e.prototype.setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=n,this.logger.log(f.DEBUG,a.sprintf(p.USER_MAPPED_TO_FORCED_VARIATION,we,n,t,e))},e.prototype.getForcedVariation=function(e,t,n){var r,i=[],o=this.forcedVariationMap[n];if(!o)return this.logger.log(f.DEBUG,a.sprintf(p.USER_HAS_NO_FORCED_VARIATION,we,n)),{result:null,reasons:i};try{var s=q(e,t);if(!s.hasOwnProperty("id")){var u=a.sprintf(d.IMPROPERLY_FORMATTED_EXPERIMENT,we,t);return this.logger.log(f.ERROR,u),i.push(u),{result:null,reasons:i}}r=s.id}catch(e){return this.logger.log(f.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var l=o[r];if(!l)return this.logger.log(f.DEBUG,a.sprintf(p.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,we,t,n)),{result:null,reasons:i};var c=B(e,l);if(c){var h=a.sprintf(p.USER_HAS_FORCED_VARIATION,we,c,t,n);this.logger.log(f.DEBUG,h),i.push(h)}else this.logger.log(f.DEBUG,a.sprintf(p.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,we,t,n));return{result:c,reasons:i}},e.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!xe(r))return this.logger.log(f.ERROR,a.sprintf(d.INVALID_VARIATION_KEY,we)),!1;var i;try{var o=q(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(f.ERROR,a.sprintf(d.IMPROPERLY_FORMATTED_EXPERIMENT,we,t)),!1;i=o.id}catch(e){return this.logger.log(f.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,i,t),!0}catch(e){return this.logger.log(f.ERROR,e.message),!1}var s=function(e,t,n){var r=e.experimentKeyMap[t];return r.variationKeyMap.hasOwnProperty(n)?r.variationKeyMap[n].id:null}(e,t,r);if(!s)return this.logger.log(f.ERROR,a.sprintf(d.NO_VARIATION_FOR_EXPERIMENT_KEY,we,r,t)),!1;try{return this.setInForcedVariationMap(n,i,s),!0}catch(e){return this.logger.log(f.ERROR,e.message),!1}},e}();function Se(e,t){if(e.hasOwnProperty("revenue")){var n=e.revenue,r=void 0;return"string"==typeof n?(r=parseInt(n),isNaN(r)?(t.log(f.INFO,a.sprintf(p.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n)),null):(t.log(f.INFO,a.sprintf(p.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r)),r)):"number"==typeof n?(r=n,t.log(f.INFO,a.sprintf(p.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r)),r):null}return null}function Ce(e,t){if(e.hasOwnProperty("value")){var n=e.value,r=void 0;return"string"==typeof n?(r=parseFloat(n),isNaN(r)?(t.log(f.INFO,a.sprintf(p.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n)),null):(t.log(f.INFO,a.sprintf(p.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r)),r)):"number"==typeof n?(r=n,t.log(f.INFO,a.sprintf(p.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r)),r):null}return null}function De(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||D.isNumber(t)&&D.isSafeInteger(t))}var Ue="https://logx.optimizely.com/v1/events";function ke(e){var t=e.attributes,n=e.userId,r=e.clientEngine,i=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,u=o.botFiltering,l={snapshots:[],visitor_id:n,attributes:[]},c={account_id:o.accountId,project_id:o.projectId,visitors:[l],revision:o.revision,client_name:r,client_version:i,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach((function(e){if(De(e,t[e])){var n=V(o,e,a);n&&c.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:t[e]})}})),"boolean"==typeof u&&c.visitors[0].attributes.push({entity_id:h.BOT_FILTERING,key:h.BOT_FILTERING,type:"custom",value:u}),c}function Pe(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function Ve(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function Me(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==n&&n}function Fe(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==n?n:null}var je=i.getLogger("EVENT_BUILDER");function Be(e,t){var n=[];return t&&Object.keys(t||{}).forEach((function(r){if(De(r,t[r])){var i=V(e,r,je);i&&n.push({entityId:i,key:r,value:t[r]})}})),n}var He=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(o.LogTierV1EventProcessor.bind.apply(o.LogTierV1EventProcessor,c([void 0],e)))},qe=(o.LocalStoragePendingEventsDispatcher,"USER_PROFILE_SERVICE_VALIDATOR"),Ge=function(){function e(e){var n,r=this,i=e.clientEngine;-1===g.indexOf(i)&&(e.logger.log(f.INFO,a.sprintf(p.INVALID_CLIENT_ENGINE,"OPTIMIZELY",i)),i="node-sdk"),this.clientEngine=i,this.clientVersion=e.clientVersion||"4.6.2",this.errorHandler=e.errorHandler,this.eventDispatcher=e.eventDispatcher,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var o=null!==(n=e.defaultDecideOptions)&&void 0!==n?n:[];Array.isArray(o)||(this.logger.log(f.DEBUG,a.sprintf(p.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY")),o=[]);var s={};o.forEach((function(e){t.N1[e]?s[e]=!0:r.logger.log(f.WARNING,a.sprintf(p.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e))})),this.defaultDecideOptions=s,this.projectConfigManager=function(e){return new re(e)}({datafile:e.datafile,datafileOptions:e.datafileOptions,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey}),this.disposeOnUpdate=this.projectConfigManager.onUpdate((function(e){r.logger.log(f.INFO,a.sprintf(p.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId)),r.notificationCenter.sendNotifications(v.OPTIMIZELY_CONFIG_UPDATE)}));var u,l=this.projectConfigManager.onReady(),c=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw new Error(a.sprintf(d.INVALID_USER_PROFILE_SERVICE,qe,"Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(a.sprintf(d.INVALID_USER_PROFILE_SERVICE,qe,"Missing function 'save'"));return!0}throw new Error(a.sprintf(d.INVALID_USER_PROFILE_SERVICE,qe))})(e.userProfileService)&&(c=e.userProfileService,this.logger.log(f.INFO,a.sprintf(p.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY")))}catch(e){this.logger.log(f.WARNING,e.message)}this.decisionService=(u={userProfileService:c,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new Le(u)),this.notificationCenter=function(e){return new ie(e)}({logger:this.logger,errorHandler:this.errorHandler});var h={dispatcher:this.eventDispatcher,flushInterval:e.eventFlushInterval,batchSize:e.eventBatchSize,maxQueueSize:e.eventMaxQueueSize,notificationCenter:this.notificationCenter};this.eventProcessor=He(h);var y=this.eventProcessor.start();this.readyPromise=Promise.all([l,y]).then((function(e){return e[0]})),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","activate")),null;if(!this.validateInputs({experiment_key:e,user_id:t},n))return this.notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var i=this.getVariation(e,t,n);if(null===i)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===F(e,t)}(r,e)){var o=a.sprintf(p.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e);return this.logger.log(f.DEBUG,o),i}var s=q(r,e),u={experiment:s,variation:s.variationKeyMap[i],decisionSource:m.EXPERIMENT};return this.sendImpressionEvent(u,"",t,!0,n),i}catch(n){this.logger.log(f.ERROR,n.message);var l=a.sprintf(p.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e);return this.logger.log(f.INFO,l),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a=function(e){var t=e.configObj,n=e.decisionObj,r=e.userId,i=e.flagKey,o=e.enabled,a=e.userAttributes,s=e.clientEngine,u=e.clientVersion,l=n.decisionSource,c=Pe(n),f=Fe(n),d=Ve(n),p=null!==f&&""!==d?H(t,f,d):null,h=null!==f?P(t,f):null;return{type:"impression",timestamp:D.currentTimestamp(),uuid:D.uuid(),user:{id:r,attributes:Be(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:s,clientVersion:u,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:h},experiment:{id:f,key:c},variation:{id:p,key:d},ruleKey:c,flagKey:i,ruleType:l,enabled:o}}({decisionObj:e,flagKey:t,enabled:r,userId:n,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,n,r,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,u=Pe(e),l=Fe(e),c=Ve(e),f=null;null!==l&&""!==c&&(f=H(o,l,c),a=o.experimentIdMap[l]);var d,p=function(e){var t,n,r,i,o,a,s,u,l=ke(e),c=(t=e.configObj,r=e.variationId,i=e.ruleKey,o=e.ruleType,a=e.flagKey,s=e.enabled,{decisions:[{campaign_id:u=(n=e.experimentId)?P(t,n):null,experiment_id:n,variation_id:r,metadata:{flag_key:a,rule_key:i,rule_type:o,variation_key:(r?B(t,r):null)||"",enabled:s}}],events:[{entity_id:u,timestamp:D.currentTimestamp(),key:"campaign_activated",uuid:D.uuid()}]});return l.visitors[0].snapshots.push(c),{httpVerb:"POST",url:Ue,params:l}}({attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:l,ruleKey:u,flagKey:t,ruleType:s,userId:n,enabled:r,variationId:f,logger:this.logger});a&&a.variationKeyMap&&""!==c&&(d=a.variationKeyMap[c]),this.notificationCenter.sendNotifications(v.ACTIVATE,{experiment:a,userId:n,attributes:i,variation:d,logEvent:p})}},e.prototype.track=function(e,t,n,r){try{if(!this.isValidInstance())return void this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","track"));if(!this.validateInputs({user_id:t,event_key:e},n,r))return;var i=this.projectConfigManager.getConfig();if(!i)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(i,e))return this.logger.log(f.WARNING,a.sprintf(p.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e)),void this.logger.log(f.WARNING,a.sprintf(p.NOT_TRACKING_USER,"OPTIMIZELY",t));var o=function(e){var t=e.configObj,n=e.userId,r=e.userAttributes,i=e.clientEngine,o=e.clientVersion,a=e.eventKey,s=e.eventTags,u=M(t,a),l=s?Se(s,je):null,c=s?Ce(s,je):null;return{type:"conversion",timestamp:D.currentTimestamp(),uuid:D.uuid(),user:{id:n,attributes:Be(t,r)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:i,clientVersion:o,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:u,key:a},revenue:l,value:c,tags:s}}({eventKey:e,eventTags:r=this.filterEmptyValues(r),userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.logger.log(f.INFO,a.sprintf(p.TRACK_EVENT,"OPTIMIZELY",e,t)),this.eventProcessor.process(o),this.emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e);var s=a.sprintf(p.NOT_TRACKING_USER,"OPTIMIZELY",t);this.logger.log(f.ERROR,s)}},e.prototype.emitNotificationCenterTrack=function(e,t,n,r){try{var i=this.projectConfigManager.getConfig();if(!i)return;var o=function(e){var t=ke(e),n=function(e,t,n,r){var i={events:[]},o={entity_id:M(e,t),timestamp:D.currentTimestamp(),uuid:D.uuid(),key:t};if(r){var a=Se(r,n);null!==a&&(o.revenue=a);var s=Ce(r,n);null!==s&&(o.value=s),o.tags=r}return i.events.push(o),i}(e.configObj,e.eventKey,e.logger,e.eventTags);return t.visitors[0].snapshots=[n],{httpVerb:"POST",url:Ue,params:t}}({attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,eventKey:e,eventTags:r,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(v.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:o})}catch(e){this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getVariation")),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},n))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;var i=r.experimentKeyMap[e];if(!i)return this.logger.log(f.DEBUG,a.sprintf(d.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e)),null;var o=this.decisionService.getVariation(r,i,t,n).result,s=X(r,i.id)?y.FEATURE_TEST:y.AB_TEST;return this.notificationCenter.sendNotifications(v.DECISION,{type:s,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:o}}),o}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.setForcedVariation=function(e,t,n){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t).result}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!=typeof r||null===r||"undefined"===r)throw new Error(a.sprintf(d.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach((function(t){if(!xe(e[t]))throw new Error(a.sprintf(d.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))})),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(a.sprintf(d.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach((function(t){if(void 0===e[t])throw new Error(a.sprintf(d.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))}))}(t),n&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(a.sprintf(d.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(n),!0}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){var n=a.sprintf(p.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e);return this.logger.log(f.INFO,n),null},e.prototype.filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled")),!1;if(!this.validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var i=W(r,e,this.logger);if(!i)return!1;var o={},s=this.decisionService.getVariationForFeature(r,i,t,n).result,u=s.decisionSource,l=Pe(s),c=Ve(s),d=Me(s);u===m.FEATURE_TEST&&(o={experimentKey:l,variationKey:c}),(u===m.FEATURE_TEST||u===m.ROLLOUT&&J(r))&&this.sendImpressionEvent(s,i.key,t,d,n),!0===d?this.logger.log(f.INFO,a.sprintf(p.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t)):(this.logger.log(f.INFO,a.sprintf(p.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t)),d=!1);var h={featureKey:e,featureEnabled:d,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(v.DECISION,{type:y.FEATURE,userId:t,attributes:n||{},decisionInfo:h}),d}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var n=this;try{var r=[];if(!this.isValidInstance())return this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures")),r;if(!this.validateInputs({user_id:e}))return r;var i=this.projectConfigManager.getConfig();return i?(a.objectValues(i.featureKeyMap).forEach((function(i){n.isFeatureEnabled(i.key,e,t)&&r.push(i.key)})),r):r}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,n,r):(this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable")),null)}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,n,r,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:r},i))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var s=W(o,e,this.logger);if(!s)return null;var u=Y(o,e,t,this.logger);if(!u)return null;if(n&&u.type!==n)return this.logger.log(f.WARNING,a.sprintf(p.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,u.type)),null;var l=this.decisionService.getVariationForFeature(o,s,r,i).result,c=Me(l),d=this.getFeatureVariableValueFromVariation(e,c,l.variation,u,r),h={};return l.decisionSource===m.FEATURE_TEST&&null!==l.experiment&&null!==l.variation&&(h={experimentKey:l.experiment.key,variationKey:l.variation.key}),this.notificationCenter.sendNotifications(v.DECISION,{type:y.FEATURE_VARIABLE,userId:r,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:c,source:l.decisionSource,variableKey:t,variableValue:d,variableType:u.type,sourceInfo:h}}),d},e.prototype.getFeatureVariableValueFromVariation=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var s=r.defaultValue;if(null!==n){var u=z(o,r,n,this.logger);null!==u?t?(s=u,this.logger.log(f.INFO,a.sprintf(p.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",s,r.key,e))):this.logger.log(f.INFO,a.sprintf(p.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,s)):this.logger.log(f.INFO,a.sprintf(p.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r.key,n.key))}else this.logger.log(f.INFO,a.sprintf(p.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,r.key,e));return $(s,r.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,_.BOOLEAN,n,r):(this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean")),null)}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,_.DOUBLE,n,r):(this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble")),null)}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,_.INTEGER,n,r):(this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger")),null)}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,_.STRING,n,r):(this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString")),null)}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,_.JSON,n,r):(this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON")),null)}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,n){var r=this;try{if(!this.isValidInstance())return this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables")),null;if(!this.validateInputs({feature_key:e,user_id:t},n))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=W(i,e,this.logger);if(!o)return null;var s=this.decisionService.getVariationForFeature(i,o,t,n).result,u=Me(s),l={};o.variables.forEach((function(n){l[n.key]=r.getFeatureVariableValueFromVariation(e,u,s.variation,n,t)}));var c={};return s.decisionSource===m.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(c={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(v.DECISION,{type:y.ALL_FEATURE_VARIABLES,userId:t,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:u,source:s.decisionSource,variableValues:l,sourceInfo:c}}),l}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach((function(t){var n=e.readyTimeouts[t];clearTimeout(n.readyTimeout),n.onClose()})),this.readyTimeouts={},t.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(f.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,n,r=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),D.isSafeInteger(t)||(t=3e4);var i=new Promise((function(e){n=e})),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var s=setTimeout((function(){delete r.readyTimeouts[o],n({success:!1,reason:a.sprintf("onReady timeout expired after %s ms",t)})}),t);return this.readyTimeouts[o]={readyTimeout:s,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.readyPromise.then((function(){clearTimeout(s),delete r.readyTimeouts[o],n({success:!0})})),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new S({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,n,r){var i,o,s,u,l=this;void 0===r&&(r=[]);var c=this.projectConfigManager.getConfig(),h=[];if(!this.isValidInstance()||!c)return h.push(T.SDK_NOT_READY),this.logger.log(f.INFO,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","decide")),L(n,e,h);var g=c.featureKeyMap[n];if(!g)return h.push(a.sprintf(T.FLAG_KEY_INVALID,n)),this.logger.log(f.ERROR,a.sprintf(d.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n)),L(n,e,h);var E=e.getUserId(),_=e.getAttributes(),I=this.getAllDecideOptions(r),b=this.decisionService.getVariationForFeature(c,g,E,_,I);h.push.apply(h,b.reasons);var O=b.result,N=O.decisionSource,R=null!==(o=null===(i=O.experiment)||void 0===i?void 0:i.key)&&void 0!==o?o:null,A=null!==(u=null===(s=O.variation)||void 0===s?void 0:s.key)&&void 0!==u?u:null,x=Me(O);!0===x?this.logger.log(f.INFO,a.sprintf(p.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,E)):this.logger.log(f.INFO,a.sprintf(p.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,E));var w={},S=!1;I[t.N1.EXCLUDE_VARIABLES]||g.variables.forEach((function(e){w[e.key]=l.getFeatureVariableValueFromVariation(n,x,O.variation,e,E)})),!I[t.N1.DISABLE_DECISION_EVENT]&&(N===m.FEATURE_TEST||N===m.ROLLOUT&&J(c))&&(this.sendImpressionEvent(O,n,E,x,_),S=!0);var C=I[t.N1.INCLUDE_REASONS]?h:[],D={flagKey:n,enabled:x,variationKey:A,ruleKey:R,variables:w,reasons:C,decisionEventDispatched:S};return this.notificationCenter.sendNotifications(v.DECISION,{type:y.FLAG,userId:E,attributes:_,decisionInfo:D}),{variationKey:A,enabled:x,variables:w,ruleKey:R,flagKey:n,userContext:e,reasons:C}},e.prototype.getAllDecideOptions=function(e){var n=this,r=l({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach((function(e){t.N1[e]?r[e]=!0:n.logger.log(f.WARNING,a.sprintf(p.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e))})):this.logger.log(f.DEBUG,a.sprintf(p.INVALID_DECIDE_OPTIONS,"OPTIMIZELY")),r},e.prototype.decideForKeys=function(e,n,r){var i=this;void 0===r&&(r=[]);var o={};if(!this.isValidInstance())return this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","decideForKeys")),o;if(0===n.length)return o;var s=this.getAllDecideOptions(r);return n.forEach((function(n){var a=i.decide(e,n,r);s[t.N1.ENABLED_FLAGS_ONLY]&&!a.enabled||(o[n]=a)})),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var n=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!n)return this.logger.log(f.ERROR,a.sprintf(p.INVALID_OBJECT,"OPTIMIZELY","decideAll")),{};var r=Object.keys(n.featureKeyMap);return this.decideForKeys(e,r,t)},e}(),Ke=i.getLogger();i.setLogHandler(x()),i.setLogLevel(i.LogLevel.INFO);var We=!1,Ye=function(e){try{e.errorHandler&&i.setErrorHandler(e.errorHandler),e.logger&&(i.setLogHandler(e.logger),i.setLogLevel(i.LogLevel.NOTSET)),void 0!==e.logLevel&&i.setLogLevel(e.logLevel);try{N(e),e.isValidInstance=!0}catch(t){Ke.error(t),e.isValidInstance=!1}var t=void 0;null==e.eventDispatcher?(t=new o.LocalStoragePendingEventsDispatcher({eventDispatcher:R}),We||(t.sendPendingEvents(),We=!0)):t=e.eventDispatcher;var n=e.eventBatchSize,r=e.eventFlushInterval;(function(e){return!("number"!=typeof e||!D.isSafeInteger(e))&&e>=1})(e.eventBatchSize)||(Ke.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),n=10),function(e){return!("number"!=typeof e||!D.isSafeInteger(e))&&e>0}(e.eventFlushInterval)||(Ke.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),r=1e3);var a=l(l({clientEngine:"javascript-sdk",eventDispatcher:t},e),{eventBatchSize:n,eventFlushInterval:r,logger:Ke,errorHandler:i.getErrorHandler()}),s=new Ge(a);try{if("function"==typeof window.addEventListener){var u="onpagehide"in window?"pagehide":"unload";window.addEventListener(u,(function(){s.close()}),!1)}}catch(e){Ke.error(p.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return s}catch(e){return Ke.error(e),null}};i.setLogHandler,i.setLogLevel,t.N1;Object.defineProperty(t,"Ub",{enumerable:!0,get:function(){return i.setLogLevel}}),t.Fs=Ye},916:function(e){"use strict";var t,n;t="undefined"!=typeof window?window:this,n=function(e,t){if("boolean"!=typeof n)var n=!1;function r(t){var n={templateSelector:"#CodeBadgeTemplate",contentSelector:"body",loadDelay:0,copyIconClass:"fa fa-copy",copyIconContent:"",checkIconClass:"fa fa-check text-success",checkIconContent:"",onBeforeCodeCopied:null};function r(){n.loadDelay?setTimeout(i,loadDelay):i()}function i(){if(!document.querySelector(n.templateSelector)){var t=document.createElement("div");t.innerHTML=function(){for(var e=["<style>","@media print {","   .code-badge { display: none; }","}","    .code-badge-pre {","        position: relative;","    }","    .code-badge {","        display: flex;","        flex-direction: row;","        white-space: normal;","        background: transparent;","        background: #333;","        color: white;","        font-size: 0.875em;","        opacity: 0.5;","        transition: opacity linear 0.5s;","        border-radius: 0 0 0 7px;","        padding: 5px 8px 5px 8px;","        position: absolute;","        right: 0;","        top: 0;","    }","    .code-badge.active {","        opacity: 0.8;","    }","","    .code-badge:hover {","        opacity: .95;","    }","","    .code-badge a,","    .code-badge a:hover {","        text-decoration: none;","    }","","    .code-badge-language {","        margin-right: 10px;","        font-weight: 600;","        color: goldenrod;","    }","    .code-badge-copy-icon {","        font-size: 1.2em;","        cursor: pointer;","        padding: 0 7px;","        margin-top:2;","    }","    .fa.text-success:{ color: limegreen !important }","</style>",'<div id="CodeBadgeTemplate" style="display:none">','    <div class="code-badge">','        <div class="code-badge-language" >{{language}}</div>','        <div  title="Copy to clipboard">','            <i class="{{copyIconClass}} code-badge-copy-icon"></i></i></a>',"        </div>","     </div>","</div>"],t="",n=0;n<e.length;n++)t+=e[n]+"\n";return t}();var r=t.querySelector("style"),i=t.querySelector(n.templateSelector);document.body.appendChild(r),document.body.appendChild(i)}for(var o=document.querySelector(n.templateSelector).innerHTML,a=document.querySelectorAll("pre>code.hljs"),s=0;s<a.length;s++){var u=a[s];if(!u.querySelector(".code-badge")){for(var l="",c=0;c<u.classList.length;c++){var f=u.classList[c];if("language-"===f.substr(0,9)){l=u.classList[c].replace("language-","");break}if("lang-"===f.substr(0,5)){l=u.classList[c].replace("lang-","");break}if(!l)for(var d=0;d<u.classList.length;d++)if("hljs"!=u.classList[d]){l=u.classList[d];break}}"ps"==(l=l?l.toLowerCase():"text")?l="powershell":"cs"==l?l="csharp":"js"==l?l="javascript":"ts"==l?l="typescript":"fox"==l?l="foxpro":"txt"==l&&(l="text");var p=o.replace("{{language}}",l).replace("{{copyIconClass}}",n.copyIconClass).trim(),h=document.createElement("div");h.innerHTML=p,h=h.querySelector(".code-badge");var g=u.parentElement;g.classList.add("code-badge-pre"),n.copyIconContent&&(h.querySelector(".code-badge-copy-icon").innerText=n.copyIconContent),g.insertBefore(h,u)}}document.querySelector(n.contentSelector).addEventListener("click",(function(t){return t.srcElement.classList.contains("code-badge-copy-icon")&&(t.preventDefault(),t.cancelBubble=!0,function(t){var r=t.srcElement.parentElement.parentElement.parentElement,i=r.querySelector("pre>code"),o=i.textContent||i.innerText;n.onBeforeCodeCopied&&(o=n.onBeforeCodeCopied(o,i));var a=document.createElement("textarea");a.value=o.trim(),document.body.appendChild(a),a.style.display="block",e.document.documentMode?a.setSelectionRange(0,a.value.length):a.select(),document.execCommand("copy"),document.body.removeChild(a),function(e){var t=n.copyIconClass.split(" "),r=n.checkIconClass.split(" "),i=e.querySelector(".code-badge-copy-icon");i.innerText=n.checkIconContent;for(var o=0;o<t.length;o++)i.classList.remove(t[o]);for(o=0;o<r.length;o++)i.classList.add(r[o]);setTimeout((function(){i.innerText=n.copyIconContent;for(var e=0;e<r.length;e++)i.classList.remove(r[e]);for(e=0;e<t.length;e++)i.classList.add(t[e])}),2e3)}(r)}(t)),!1}))}!function(e){Object.assign(n,e),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",r):r()}(t)}e.highlightJsBadge=r,e.module&&e.module.exports&&(e.module.exports.highlightJsBadge=r),n&&r()},"object"==typeof e.exports?e.exports=t.document?n(t):function(e){if(!e.document)throw new Error("A window with a document is required");return n(e)}:n(t)},339:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,u=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},l=o.push,c=o.indexOf,f={},d=f.toString,p=f.hasOwnProperty,h=p.toString,g=h.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},E=r.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function I(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in _)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function T(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[d.call(e)]||"object":typeof e}var b="3.6.0",O=function(e,t){return new O.fn.init(e,t)};function N(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!y(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}O.fn=O.prototype={jquery:b,constructor:O,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=O.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return O.each(this,e)},map:function(e){return this.pushStack(O.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(O.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(O.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},O.extend=O.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(O.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||O.isPlainObject(n)?n:{},i=!1,a[t]=O.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},O.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=a(e))&&("function"!=typeof(n=p.call(t,"constructor")&&t.constructor)||h.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){I(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(N(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(N(Object(e))?O.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(N(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return u(a)},guid:1,support:v}),"function"==typeof Symbol&&(O.fn[Symbol.iterator]=o[Symbol.iterator]),O.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var R=function(e){var t,n,r,i,o,a,s,u,l,c,f,d,p,h,g,v,y,m,E,_="sizzle"+1*new Date,I=e.document,T=0,b=0,O=ue(),N=ue(),R=ue(),A=ue(),x=function(e,t){return e===t&&(f=!0),0},w={}.hasOwnProperty,L=[],S=L.pop,C=L.push,D=L.push,U=L.slice,k=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",M="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\[[\\x20\\t\\r\\n\\f]*("+M+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+V+"*\\]",j=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(V+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),K=new RegExp(V+"|>"),W=new RegExp(j),Y=new RegExp("^"+M+"$"),z={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},ae=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(L=U.call(I.childNodes),I.childNodes),L[I.childNodes.length].nodeType}catch(e){D={apply:L.length?function(e,t){C.apply(e,U.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,l,c,f,h,y,m=t&&t.ownerDocument,I=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==I&&9!==I&&11!==I)return r;if(!i&&(d(t),t=t||p,g)){if(11!==I&&(f=Q.exec(e)))if(o=f[1]){if(9===I){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&E(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return D.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!A[e+" "]&&(!v||!v.test(e))&&(1!==I||"object"!==t.nodeName.toLowerCase())){if(y=e,m=t,1===I&&(K.test(e)||G.test(e))){for((m=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(re,ie):t.setAttribute("id",c=_)),s=(h=a(e)).length;s--;)h[s]=(c?"#"+c:":scope")+" "+Ee(h[s]);y=h.join(",")}try{return D.apply(r,m.querySelectorAll(y)),r}catch(t){A(e,!0)}finally{c===_&&t.removeAttribute("id")}}}return u(e.replace(H,"$1"),t,r,i)}function ue(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function le(e){return e[_]=!0,e}function ce(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return le((function(t){return t=+t,le((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!$.test(t||n&&n.nodeName||"HTML")},d=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:I;return a!=p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,g=!o(p),I!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=ce((function(e){return h.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=ce((function(e){return h.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(n.qsa=Z.test(p.querySelectorAll))&&(ce((function(e){var t;h.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+P+")"),e.querySelectorAll("[id~="+_+"-]").length||v.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Z.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",j)})),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=Z.test(h.compareDocumentPosition),E=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==I&&E(I,e)?-1:t==p||t.ownerDocument==I&&E(I,t)?1:c?k(c,e)-k(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==p?-1:t==p?1:i?-1:o?1:c?k(c,e)-k(c,t):0;if(i===o)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?de(a[r],s[r]):a[r]==I?-1:s[r]==I?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&g&&!A[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){A(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&d(e),E(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&w.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(x),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},r=se.selectors={cacheLength:50,createPseudo:le,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=O[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+V+"|$)"))&&O(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,p,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,E=!1;if(v){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){for(E=(p=(l=(c=(f=(d=v)[_]||(d[_]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],d=p&&v.childNodes[p];d=++p&&d&&d[g]||(E=p=0)||h.pop();)if(1===d.nodeType&&++E&&d===t){c[e]=[T,p,E];break}}else if(m&&(E=p=(l=(c=(f=(d=t)[_]||(d[_]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===E)for(;(d=++p&&d&&d[g]||(E=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++E||(m&&((c=(f=d[_]||(d[_]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[T,E]),d!==t)););return(E-=i)===r||E%r==0&&E/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?le((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=k(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:le((function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[_]?le((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:le((function(e){return function(t){return se(e,t).length>0}})),contains:le((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:le((function(e){return Y.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ve((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function me(){}function Ee(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function _e(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=b++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,d=[T,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(f=t[_]||(t[_]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return d[2]=l[2];if(c[o]=d,d[2]=e(t,n,u))return!0}return!1}}function Ie(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function be(e,t,n,r,i,o){return r&&!r[_]&&(r=be(r)),i&&!i[_]&&(i=be(i,o)),le((function(o,a,s,u){var l,c,f,d=[],p=[],h=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:Te(g,d,e,s,u),y=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,y,s,u),r)for(l=Te(y,p),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(y[p[c]]=!(v[p[c]]=f));if(o){if(i||e){if(i){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=i?k(o,f):d[c])>-1&&(o[l]=!(a[l]=f))}}else y=Te(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):D.apply(a,y)}))}function Oe(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=_e((function(e){return e===t}),s,!0),f=_e((function(e){return k(t,e)>-1}),s,!0),d=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])d=[_e(Ie(d),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[_]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return be(u>1&&Ie(d),u>1&&Ee(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(H,"$1"),n,u<i&&Oe(e.slice(u,i)),i<o&&Oe(e=e.slice(i)),i<o&&Ee(e))}d.push(n)}return Ie(d)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,a=se.tokenize=function(e,t){var n,i,o,a,s,u,l,c=N[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){for(a in n&&!(i=q.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=G.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(i=z[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):N(e,u).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=R[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Oe(t[n]))[_]?i.push(s):o.push(s);s=R(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,v,y=0,m="0",E=o&&[],_=[],I=l,b=o||i&&r.find.TAG("*",c),O=T+=null==I?1:Math.random()||.1,N=b.length;for(c&&(l=a==p||a||c);m!==N&&null!=(f=b[m]);m++){if(i&&f){for(h=0,a||f.ownerDocument==p||(d(f),s=!g);v=e[h++];)if(v(f,a||p,s)){u.push(f);break}c&&(T=O)}n&&((f=!v&&f)&&y--,o&&E.push(f))}if(y+=m,n&&m!==y){for(h=0;v=t[h++];)v(E,_,a,s);if(o){if(y>0)for(;m--;)E[m]||_[m]||(_[m]=S.call(u));_=Te(_)}D.apply(u,_),c&&!o&&_.length>0&&y+t.length>1&&se.uniqueSort(u)}return c&&(T=O,l=I),E};return n?le(o):o}(o,i)),s.selector=e}return s},u=se.select=function(e,t,n,i){var o,u,l,c,f,d="function"==typeof e&&e,p=!i&&a(e=d.selector||e);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=z.needsContext.test(e)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((f=r.find[c])&&(i=f(l.matches[0].replace(te,ne),ee.test(u[0].type)&&ye(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&Ee(u)))return D.apply(n,i),n;break}}return(d||s(e,p))(i,t,!g,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=_.split("").sort(x).join("")===_,n.detectDuplicates=!!f,d(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||fe("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||fe(P,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(r);O.find=R,O.expr=R.selectors,O.expr[":"]=O.expr.pseudos,O.uniqueSort=O.unique=R.uniqueSort,O.text=R.getText,O.isXMLDoc=R.isXML,O.contains=R.contains,O.escapeSelector=R.escape;var A=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&O(e).is(n))break;r.push(e)}return r},x=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},w=O.expr.match.needsContext;function L(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(e,t,n){return y(t)?O.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?O.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?O.grep(e,(function(e){return c.call(t,e)>-1!==n})):O.filter(t,e,n)}O.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?O.find.matchesSelector(r,e)?[r]:[]:O.find.matches(e,O.grep(t,(function(e){return 1===e.nodeType})))},O.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(O(e).filter((function(){for(t=0;t<r;t++)if(O.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)O.find(e,i[t],n);return r>1?O.uniqueSort(n):n},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&w.test(e)?O(e):e||[],!1).length}});var D,U=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(O.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:U.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof O?t[0]:t,O.merge(this,O.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),S.test(r[1])&&O.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(O):O.makeArray(e,this)}).prototype=O.fn,D=O(E);var k=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function V(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}O.fn.extend({has:function(e){var t=O(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(O.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&O(e);if(!w.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&O.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?O.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(O(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(O.uniqueSort(O.merge(this.get(),O(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),O.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return A(e,"parentNode")},parentsUntil:function(e,t,n){return A(e,"parentNode",n)},next:function(e){return V(e,"nextSibling")},prev:function(e){return V(e,"previousSibling")},nextAll:function(e){return A(e,"nextSibling")},prevAll:function(e){return A(e,"previousSibling")},nextUntil:function(e,t,n){return A(e,"nextSibling",n)},prevUntil:function(e,t,n){return A(e,"previousSibling",n)},siblings:function(e){return x((e.parentNode||{}).firstChild,e)},children:function(e){return x(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(L(e,"template")&&(e=e.content||e),O.merge([],e.childNodes))}},(function(e,t){O.fn[e]=function(n,r){var i=O.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=O.filter(r,i)),this.length>1&&(P[e]||O.uniqueSort(i),k.test(e)&&i.reverse()),this.pushStack(i)}}));var M=/[^\x20\t\r\n\f]+/g;function F(e){return e}function j(e){throw e}function B(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}O.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return O.each(e.match(M)||[],(function(e,n){t[n]=!0})),t}(e):O.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){O.each(n,(function(n,r){y(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==T(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return O.each(arguments,(function(e,t){for(var n;(n=O.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?O.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},O.extend({Deferred:function(e){var t=[["notify","progress",O.Callbacks("memory"),O.Callbacks("memory"),2],["resolve","done",O.Callbacks("once memory"),O.Callbacks("once memory"),0,"resolved"],["reject","fail",O.Callbacks("once memory"),O.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return O.Deferred((function(n){O.each(t,(function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,u=arguments,l=function(){var r,l;if(!(e<o)){if((r=n.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,y(l)?i?l.call(r,a(o,t,F,i),a(o,t,j,i)):(o++,l.call(r,a(o,t,F,i),a(o,t,j,i),a(o,t,F,t.notifyWith))):(n!==F&&(s=void 0,u=[r]),(i||t.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(r){O.Deferred.exceptionHook&&O.Deferred.exceptionHook(r,c.stackTrace),e+1>=o&&(n!==j&&(s=void 0,u=[r]),t.rejectWith(s,u))}};e?c():(O.Deferred.getStackHook&&(c.stackTrace=O.Deferred.getStackHook()),r.setTimeout(c))}}return O.Deferred((function(r){t[0][3].add(a(0,r,y(i)?i:F,r.notifyWith)),t[1][3].add(a(0,r,y(e)?e:F)),t[2][3].add(a(0,r,y(n)?n:j))})).promise()},promise:function(e){return null!=e?O.extend(e,i):i}},o={};return O.each(t,(function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=s.call(arguments),o=O.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(B(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)B(i[n],a(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;O.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&H.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},O.readyException=function(e){r.setTimeout((function(){throw e}))};var q=O.Deferred();function G(){E.removeEventListener("DOMContentLoaded",G),r.removeEventListener("load",G),O.ready()}O.fn.ready=function(e){return q.then(e).catch((function(e){O.readyException(e)})),this},O.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--O.readyWait:O.isReady)||(O.isReady=!0,!0!==e&&--O.readyWait>0||q.resolveWith(E,[O]))}}),O.ready.then=q.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?r.setTimeout(O.ready):(E.addEventListener("DOMContentLoaded",G),r.addEventListener("load",G));var K=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===T(n))for(s in i=!0,n)K(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(O(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},W=/^-ms-/,Y=/-([a-z])/g;function z(e,t){return t.toUpperCase()}function $(e){return e.replace(W,"ms-").replace(Y,z)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=O.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[$(t)]=n;else for(r in t)i[$(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map($):(t=$(t))in r?[t]:t.match(M)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||O.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!O.isEmptyObject(t)}};var Z=new J,Q=new J,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}O.extend({hasData:function(e){return Q.hasData(e)||Z.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),O.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=$(r.slice(5)),ne(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){Q.set(this,e)})):K(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=Q.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){Q.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Q.remove(this,e)}))}}),O.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,O.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=O.queue(e,t),r=n.length,i=n.shift(),o=O._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){O.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:O.Callbacks("once memory").add((function(){Z.remove(e,[t+"queue",n])}))})}}),O.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?O.queue(this[0],e):void 0===t?this:this.each((function(){var n=O.queue(this,e,t);O._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&O.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){O.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=O.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=E.documentElement,se=function(e){return O.contains(e.ownerDocument,e)},ue={composed:!0};ae.getRootNode&&(se=function(e){return O.contains(e.ownerDocument,e)||e.getRootNode(ue)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===O.css(e,"display")};function ce(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return O.css(e,t,"")},u=s(),l=n&&n[3]||(O.cssNumber[t]?"":"px"),c=e.nodeType&&(O.cssNumber[t]||"px"!==l&&+u)&&ie.exec(O.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)O.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,O.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var fe={};function de(e){var t,n=e.ownerDocument,r=e.nodeName,i=fe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=O.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),fe[r]=i,i)}function pe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&le(r)&&(i[o]=de(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}O.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){le(this)?O(this).show():O(this).hide()}))}});var he,ge,ve=/^(?:checkbox|radio)$/i,ye=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i;he=E.createDocumentFragment().appendChild(E.createElement("div")),(ge=E.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),he.appendChild(ge),v.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",v.option=!!he.lastChild;var Ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _e(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&L(e,t)?O.merge([e],n):n}function Ie(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,v.option||(Ee.optgroup=Ee.option=[1,"<select multiple='multiple'>","</select>"]);var Te=/<|&#?\w+;/;function be(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===T(o))O.merge(d,o.nodeType?[o]:o);else if(Te.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(ye.exec(o)||["",""])[1].toLowerCase(),u=Ee[s]||Ee._default,a.innerHTML=u[1]+O.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;O.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(o));for(f.textContent="",p=0;o=d[p++];)if(r&&O.inArray(o,r)>-1)i&&i.push(o);else if(l=se(o),a=_e(f.appendChild(o),"script"),l&&Ie(a),n)for(c=0;o=a[c++];)me.test(o.type||"")&&n.push(o);return f}var Oe=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function Re(){return!1}function Ae(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function xe(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)xe(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Re;else if(!i)return e;return 1===o&&(a=i,i=function(e){return O().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=O.guid++)),e.each((function(){O.event.add(this,t,i,r,n)}))}function we(e,t,n){n?(Z.set(e,t,!1),O.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Z.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(O.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),Z.set(this,t,o),r=n(this,t),this[t](),o!==(i=Z.get(this,t))||r?Z.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&(Z.set(this,t,{value:O.event.trigger(O.extend(o[0],O.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Z.get(e,t)&&O.event.add(e,t,Ne)}O.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,g,v=Z.get(e);if(X(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&O.find.matchesSelector(ae,i),n.guid||(n.guid=O.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==O&&O.event.triggered!==t.type?O.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;l--;)p=g=(s=Oe.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p&&(f=O.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=O.event.special[p]||{},c=O.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&O.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=u[p])||((d=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),O.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,g,v=Z.hasData(e)&&Z.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(M)||[""]).length;l--;)if(p=g=(s=Oe.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=O.event.special[p]||{},d=u[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||O.removeEvent(e,p,v.handle),delete u[p])}else for(p in u)O.event.remove(e,p+t[l],n,r,!0);O.isEmptyObject(u)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=O.event.fix(e),l=(Z.get(this,"events")||Object.create(null))[u.type]||[],c=O.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=O.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((O.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?O(i,this).index(l)>-1:O.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(O.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[O.expando]?e:new O.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&L(t,"input")&&we(t,"click",Ne),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&L(t,"input")&&we(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&L(t,"input")&&Z.get(t,"click")||L(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},O.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},O.Event=function(e,t){if(!(this instanceof O.Event))return new O.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:Re,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&O.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[O.expando]=!0},O.Event.prototype={constructor:O.Event,isDefaultPrevented:Re,isPropagationStopped:Re,isImmediatePropagationStopped:Re,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},O.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},O.event.addProp),O.each({focus:"focusin",blur:"focusout"},(function(e,t){O.event.special[e]={setup:function(){return we(this,e,Ae),!1},trigger:function(){return we(this,e),!0},_default:function(){return!0},delegateType:t}})),O.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){O.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||O.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),O.fn.extend({on:function(e,t,n,r){return xe(this,e,t,n,r)},one:function(e,t,n,r){return xe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,O(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Re),this.each((function(){O.event.remove(this,e,n,t)}))}});var Le=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return L(e,"table")&&L(11!==t.nodeType?t:t.firstChild,"tr")&&O(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ke(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Z.hasData(e)&&(s=Z.get(e).events))for(i in Z.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)O.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=O.extend({},o),Q.set(t,a))}}function Ve(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Me(e,t,n,r){t=u(t);var i,o,a,s,l,c,f=0,d=e.length,p=d-1,h=t[0],g=y(h);if(g||d>1&&"string"==typeof h&&!v.checkClone&&Se.test(h))return e.each((function(i){var o=e.eq(i);g&&(t[0]=h.call(this,i,o.html())),Me(o,t,n,r)}));if(d&&(o=(i=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=O.map(_e(i,"script"),Ue)).length;f<d;f++)l=i,f!==p&&(l=O.clone(l,!0,!0),s&&O.merge(a,_e(l,"script"))),n.call(e[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,O.map(a,ke),f=0;f<s;f++)l=a[f],me.test(l.type||"")&&!Z.access(l,"globalEval")&&O.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?O._evalUrl&&!l.noModule&&O._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):I(l.textContent.replace(Ce,""),l,c))}return e}function Fe(e,t,n){for(var r,i=t?O.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||O.cleanData(_e(r)),r.parentNode&&(n&&se(r)&&Ie(_e(r,"script")),r.parentNode.removeChild(r));return e}O.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=se(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||O.isXMLDoc(e)))for(a=_e(s),r=0,i=(o=_e(e)).length;r<i;r++)Ve(o[r],a[r]);if(t)if(n)for(o=o||_e(e),a=a||_e(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=_e(s,"script")).length>0&&Ie(a,!u&&_e(e,"script")),s},cleanData:function(e){for(var t,n,r,i=O.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)i[r]?O.event.remove(n,r):O.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),O.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return K(this,(function(e){return void 0===e?O.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Me(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Me(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(O.cleanData(_e(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return O.clone(this,e,t)}))},html:function(e){return K(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!Ee[(ye.exec(e)||["",""])[1].toLowerCase()]){e=O.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(O.cleanData(_e(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,(function(t){var n=this.parentNode;O.inArray(this,e)<0&&(O.cleanData(_e(this)),n&&n.replaceChild(t,this))}),e)}}),O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){O.fn[e]=function(e){for(var n,r=[],i=O(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),O(i[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var je=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Be=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},He=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},qe=new RegExp(oe.join("|"),"i");function Ge(e,t,n){var r,i,o,a,s=e.style;return(n=n||Be(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||se(e)||(a=O.style(e,t)),!v.pixelBoxStyles()&&je.test(a)&&qe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),ae.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,a,s,u,l=E.createElement("div"),c=E.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,O.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==s&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ae.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ae.removeChild(e)),s}}))}();var We=["Webkit","Moz","ms"],Ye=E.createElement("div").style,ze={};function $e(e){return O.cssProps[e]||ze[e]||(e in Ye?e:ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in Ye)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Je=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function tt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=O.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=O.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=O.css(e,"border"+oe[a]+"Width",!0,i))):(u+=O.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=O.css(e,"border"+oe[a]+"Width",!0,i):s+=O.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function nt(e,t,n){var r=Be(e),i=(!v.boxSizingReliable()||n)&&"border-box"===O.css(e,"boxSizing",!1,r),o=i,a=Ge(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&L(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===O.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===O.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+tt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function rt(e,t,n,r,i){return new rt.prototype.init(e,t,n,r,i)}O.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=$(t),u=Je.test(t),l=e.style;if(u||(t=$e(s)),a=O.cssHooks[t]||O.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ce(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(O.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=$(t);return Je.test(t)||(t=$e(s)),(a=O.cssHooks[t]||O.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),O.each(["height","width"],(function(e,t){O.cssHooks[t]={get:function(e,n,r){if(n)return!Xe.test(O.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,r):He(e,Ze,(function(){return nt(e,t,r)}))},set:function(e,n,r){var i,o=Be(e),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===O.css(e,"boxSizing",!1,o),u=r?tt(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),u&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=O.css(e,t)),et(0,n,u)}}})),O.cssHooks.marginLeft=Ke(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),O.each({margin:"",padding:"",border:"Width"},(function(e,t){O.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(O.cssHooks[e+t].set=et)})),O.fn.extend({css:function(e,t){return K(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Be(e),i=t.length;a<i;a++)o[t[a]]=O.css(e,t[a],!1,r);return o}return void 0!==n?O.style(e,t,n):O.css(e,t)}),e,t,arguments.length>1)}}),O.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||O.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(O.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=O.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=O.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){O.fx.step[e.prop]?O.fx.step[e.prop](e):1!==e.elem.nodeType||!O.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:O.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},O.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},O.fx=rt.prototype.init,O.fx.step={};var it,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function ut(){ot&&(!1===E.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ut):r.setTimeout(ut,O.fx.interval),O.fx.tick())}function lt(){return r.setTimeout((function(){it=void 0})),it=Date.now()}function ct(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ft(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(e,t,n){var r,i,o=0,a=dt.prefilters.length,s=O.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=it||lt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:O.extend({},t),opts:O.extend(!0,{specialEasing:{},easing:O.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=O.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=$(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=O.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=dt.prefilters[o].call(l,e,c,l.opts))return y(r.stop)&&(O._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return O.map(c,ft,l),y(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),O.fx.timer(O.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}O.Animation=O.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,d=this,p={},h=e.style,g=e.nodeType&&le(e),v=Z.get(e,"fxshow");for(r in n.queue||(null==(a=O._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,O.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],at.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}p[r]=v&&v[r]||O.style(e,r)}if((u=!O.isEmptyObject(t))||!O.isEmptyObject(p))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Z.get(e,"display")),"none"===(c=O.css(e,"display"))&&(l?c=l:(pe([e],!0),l=e.style.display||l,c=O.css(e,"display"),pe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===O.css(e,"float")&&(u||(d.done((function(){h.display=l})),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),u=!1,p)u||(v?"hidden"in v&&(g=v.hidden):v=Z.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&pe([e],!0),d.done((function(){for(r in g||pe([e]),Z.remove(e,"fxshow"),p)O.style(e,r,p[r])}))),u=ft(g?v[r]:0,r,d),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),O.speed=function(e,t,n){var r=e&&"object"==typeof e?O.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return O.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in O.fx.speeds?r.duration=O.fx.speeds[r.duration]:r.duration=O.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&O.dequeue(this,r.queue)},r},O.fn.extend({fadeTo:function(e,t,n,r){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=O.isEmptyObject(e),o=O.speed(t,n,r),a=function(){var t=dt(this,O.extend({},e),o);(i||Z.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=O.timers,a=Z.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&st.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||O.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Z.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=O.timers,a=r?r.length:0;for(n.finish=!0,O.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),O.each(["toggle","show","hide"],(function(e,t){var n=O.fn[t];O.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,r,i)}})),O.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){O.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),O.timers=[],O.fx.tick=function(){var e,t=0,n=O.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||O.fx.stop(),it=void 0},O.fx.timer=function(e){O.timers.push(e),O.fx.start()},O.fx.interval=13,O.fx.start=function(){ot||(ot=!0,ut())},O.fx.stop=function(){ot=null},O.fx.speeds={slow:600,fast:200,_default:400},O.fn.delay=function(e,t){return e=O.fx&&O.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=E.createElement("input"),t=E.createElement("select").appendChild(E.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=E.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var pt,ht=O.expr.attrHandle;O.fn.extend({attr:function(e,t){return K(this,O.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){O.removeAttr(this,e)}))}}),O.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?O.prop(e,t,n):(1===o&&O.isXMLDoc(e)||(i=O.attrHooks[t.toLowerCase()]||(O.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void O.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=O.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&L(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?O.removeAttr(e,n):e.setAttribute(n,n),n}},O.each(O.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ht[t]||O.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}}));var gt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function yt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}O.fn.extend({prop:function(e,t){return K(this,O.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[O.propFix[e]||e]}))}}),O.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&O.isXMLDoc(e)||(t=O.propFix[t]||t,i=O.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=O.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(O.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),O.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){O.propFix[this.toLowerCase()]=this})),O.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(y(e))return this.each((function(t){O(this).addClass(e.call(this,t,mt(this)))}));if((t=Et(e)).length)for(;n=this[u++];)if(i=mt(n),r=1===n.nodeType&&" "+yt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=yt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(y(e))return this.each((function(t){O(this).removeClass(e.call(this,t,mt(this)))}));if(!arguments.length)return this.attr("class","");if((t=Et(e)).length)for(;n=this[u++];)if(i=mt(n),r=1===n.nodeType&&" "+yt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=yt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){O(this).toggleClass(e.call(this,n,mt(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=O(this),a=Et(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+yt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;O.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,O(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=O.map(i,(function(e){return null==e?"":e+""}))),(t=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=O.valHooks[i.type]||O.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(_t,""):null==n?"":n:void 0}}),O.extend({valHooks:{option:{get:function(e){var t=O.find.attr(e,"value");return null!=t?t:yt(O.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!L(n.parentNode,"optgroup"))){if(t=O(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=O.makeArray(t),a=i.length;a--;)((r=i[a]).selected=O.inArray(O.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),O.each(["radio","checkbox"],(function(){O.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=O.inArray(O(e).val(),t)>-1}},v.checkOn||(O.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),v.focusin="onfocusin"in r;var It=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};O.extend(O.event,{trigger:function(e,t,n,i){var o,a,s,u,l,c,f,d,h=[n||E],g=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!It.test(g+O.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[O.expando]?e:new O.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:O.makeArray(t,[e]),f=O.event.special[g]||{},i||!f.trigger||!1!==f.trigger.apply(n,t))){if(!i&&!f.noBubble&&!m(n)){for(u=f.delegateType||g,It.test(u+g)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(n.ownerDocument||E)&&h.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?u:f.bindType||g,(c=(Z.get(a,"events")||Object.create(null))[e.type]&&Z.get(a,"handle"))&&c.apply(a,t),(c=l&&a[l])&&c.apply&&X(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),t)||!X(n)||l&&y(n[g])&&!m(n)&&((s=n[l])&&(n[l]=null),O.event.triggered=g,e.isPropagationStopped()&&d.addEventListener(g,Tt),n[g](),e.isPropagationStopped()&&d.removeEventListener(g,Tt),O.event.triggered=void 0,s&&(n[l]=s)),e.result}},simulate:function(e,t,n){var r=O.extend(new O.Event,n,{type:e,isSimulated:!0});O.event.trigger(r,null,t)}}),O.fn.extend({trigger:function(e,t){return this.each((function(){O.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return O.event.trigger(e,t,n,!0)}}),v.focusin||O.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){O.event.simulate(t,e.target,O.event.fix(e))};O.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,t);i||r.addEventListener(e,n,!0),Z.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,t)-1;i?Z.access(r,t,i):(r.removeEventListener(e,n,!0),Z.remove(r,t))}}}));var bt=r.location,Ot={guid:Date.now()},Nt=/\?/;O.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||O.error("Invalid XML: "+(n?O.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Rt=/\[\]$/,At=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;function Lt(e,t,n,r){var i;if(Array.isArray(t))O.each(t,(function(t,i){n||Rt.test(e)?r(e,i):Lt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==T(t))r(e,t);else for(i in t)Lt(e+"["+i+"]",t[i],n,r)}O.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!O.isPlainObject(e))O.each(e,(function(){i(this.name,this.value)}));else for(n in e)Lt(n,e[n],t,i);return r.join("&")},O.fn.extend({serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=O.prop(this,"elements");return e?O.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!O(this).is(":disabled")&&wt.test(this.nodeName)&&!xt.test(e)&&(this.checked||!ve.test(e))})).map((function(e,t){var n=O(this).val();return null==n?null:Array.isArray(n)?O.map(n,(function(e){return{name:t.name,value:e.replace(At,"\r\n")}})):{name:t.name,value:n.replace(At,"\r\n")}})).get()}});var St=/%20/g,Ct=/#.*$/,Dt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,kt=/^(?:GET|HEAD)$/,Pt=/^\/\//,Vt={},Mt={},Ft="*/".concat("*"),jt=E.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ht(e,t,n,r){var i={},o=e===Mt;function a(s){var u;return i[s]=!0,O.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function qt(e,t){var n,r,i=O.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&O.extend(!0,e,r),e}jt.href=bt.href,O.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":O.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,O.ajaxSettings),t):qt(O.ajaxSettings,e)},ajaxPrefilter:Bt(Vt),ajaxTransport:Bt(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,s,u,l,c,f,d,p=O.ajaxSetup({},t),h=p.context||p,g=p.context&&(h.nodeType||h.jquery)?O(h):O.event,v=O.Deferred(),y=O.Callbacks("once memory"),m=p.statusCode||{},_={},I={},T="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=Ut.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=I[e.toLowerCase()]=I[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)b.always(e[b.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||T;return n&&n.abort(t),N(0,t),this}};if(v.promise(b),p.url=((e||p.url||bt.href)+"").replace(Pt,bt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(M)||[""],null==p.crossDomain){u=E.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=jt.protocol+"//"+jt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=O.param(p.data,p.traditional)),Ht(Vt,p,t,b),l)return b;for(f in(c=O.event&&p.global)&&0==O.active++&&O.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!kt.test(p.type),i=p.url.replace(Ct,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(St,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Nt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Dt,"$1"),d=(Nt.test(i)?"&":"?")+"_="+Ot.guid+++d),p.url=i+d),p.ifModified&&(O.lastModified[i]&&b.setRequestHeader("If-Modified-Since",O.lastModified[i]),O.etag[i]&&b.setRequestHeader("If-None-Match",O.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&b.setRequestHeader("Content-Type",p.contentType),b.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ft+"; q=0.01":""):p.accepts["*"]),p.headers)b.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(h,b,p)||l))return b.abort();if(T="abort",y.add(p.complete),b.done(p.success),b.fail(p.error),n=Ht(Mt,p,t,b)){if(b.readyState=1,c&&g.trigger("ajaxSend",[b,p]),l)return b;p.async&&p.timeout>0&&(s=r.setTimeout((function(){b.abort("timeout")}),p.timeout));try{l=!1,n.send(_,N)}catch(e){if(l)throw e;N(-1,e)}}else N(-1,"No Transport");function N(e,t,a,u){var f,d,E,_,I,T=t;l||(l=!0,s&&r.clearTimeout(s),n=void 0,o=u||"",b.readyState=e>0?4:0,f=e>=200&&e<300||304===e,a&&(_=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,b,a)),!f&&O.inArray("script",p.dataTypes)>-1&&O.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),_=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(p,_,b,f),f?(p.ifModified&&((I=b.getResponseHeader("Last-Modified"))&&(O.lastModified[i]=I),(I=b.getResponseHeader("etag"))&&(O.etag[i]=I)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=_.state,d=_.data,f=!(E=_.error))):(E=T,!e&&T||(T="error",e<0&&(e=0))),b.status=e,b.statusText=(t||T)+"",f?v.resolveWith(h,[d,T,b]):v.rejectWith(h,[b,T,E]),b.statusCode(m),m=void 0,c&&g.trigger(f?"ajaxSuccess":"ajaxError",[b,p,f?d:E]),y.fireWith(h,[b,T]),c&&(g.trigger("ajaxComplete",[b,p]),--O.active||O.event.trigger("ajaxStop")))}return b},getJSON:function(e,t,n){return O.get(e,t,n,"json")},getScript:function(e,t){return O.get(e,void 0,t,"script")}}),O.each(["get","post"],(function(e,t){O[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),O.ajax(O.extend({url:e,type:t,dataType:i,data:n,success:r},O.isPlainObject(e)&&e))}})),O.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),O._evalUrl=function(e,t,n){return O.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){O.globalEval(e,t,n)}})},O.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=O(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){O(this).wrapInner(e.call(this,t))})):this.each((function(){var t=O(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){O(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){O(this).replaceWith(this.childNodes)})),this}}),O.expr.pseudos.hidden=function(e){return!O.expr.pseudos.visible(e)},O.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},O.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Kt=O.ajaxSettings.xhr();v.cors=!!Kt&&"withCredentials"in Kt,v.ajax=Kt=!!Kt,O.ajaxTransport((function(e){var t,n;if(v.cors||Kt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Gt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),O.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return O.globalEval(e),e}}}),O.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),O.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=O("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),E.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Wt,Yt=[],zt=/(=)\?(?=&|$)|\?\?/;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||O.expando+"_"+Ot.guid++;return this[e]=!0,e}}),O.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(zt,"$1"+i):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||O.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?O(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(i)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=((Wt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),O.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=S.exec(e))?[t.createElement(i[1])]:(i=be([e],t,o),o&&o.length&&O(o).remove(),O.merge([],i.childNodes)));var r,i,o},O.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=yt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&O.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?O("<div>").append(O.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},O.expr.pseudos.animated=function(e){return O.grep(O.timers,(function(t){return e===t.elem})).length},O.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=O.css(e,"position"),c=O(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=O.css(e,"top"),u=O.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(t)&&(t=t.call(e,n,O.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},O.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){O.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===O.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===O.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=O(e).offset()).top+=O.css(e,"borderTopWidth",!0),i.left+=O.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-O.css(r,"marginTop",!0),left:t.left-i.left-O.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===O.css(e,"position");)e=e.offsetParent;return e||ae}))}}),O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;O.fn[e]=function(r){return K(this,(function(e,r,i){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),O.each(["top","left"],(function(e,t){O.cssHooks[t]=Ke(v.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),je.test(n)?O(e).position()[t]+"px":n}))})),O.each({Height:"height",Width:"width"},(function(e,t){O.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){O.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return K(this,(function(t,n,i){var o;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?O.css(t,n,s):O.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),O.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){O.fn[t]=function(e){return this.on(t,e)}})),O.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),O.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){O.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var $t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;O.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=s.call(arguments,2),i=function(){return e.apply(t||this,r.concat(s.call(arguments)))},i.guid=e.guid=e.guid||O.guid++,i},O.holdReady=function(e){e?O.readyWait++:O.ready(!0)},O.isArray=Array.isArray,O.parseJSON=JSON.parse,O.nodeName=L,O.isFunction=y,O.isWindow=m,O.camelCase=$,O.type=T,O.now=Date.now,O.isNumeric=function(e){var t=O.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},O.trim=function(e){return null==e?"":(e+"").replace($t,"")},void 0===(n=function(){return O}.apply(t,[]))||(e.exports=n);var Xt=r.jQuery,Jt=r.$;return O.noConflict=function(e){return r.$===O&&(r.$=Jt),e&&r.jQuery===O&&(r.jQuery=Xt),O},void 0===i&&(r.jQuery=r.$=O),O}))},929:(e,t,n)=>{var r,i,o;o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var l in o)o[l]&&(u+="; "+l,!0!==o[l]&&(u+="="+o[l]));return document.cookie=t+"="+i+u}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var p=c[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var g=p[0].replace(f,decodeURIComponent);if(h=n.read?n.read(h,g):n(h,g)||h.replace(f,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===g){a=h;break}t||(a[g]=h)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))},void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),e.exports=o()},320:(e,t,n)=>{var r,i="__lodash_hash_undefined__",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,c=/^\[object .+?Constructor\]$/,f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),h=Array.prototype,g=Function.prototype,v=Object.prototype,y=p["__core-js_shared__"],m=(r=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",E=g.toString,_=v.hasOwnProperty,I=v.toString,T=RegExp("^"+E.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=p.Symbol,O=h.splice,N=U(p,"Map"),R=U(Object,"create"),A=b?b.prototype:void 0,x=A?A.toString:void 0;function w(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function D(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function U(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!F(e)||m&&m in e)return!1;var t=function(e){var t=F(e)?I.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?T:c;return t.test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}w.prototype.clear=function(){this.__data__=R?R(null):{}},w.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},w.prototype.get=function(e){var t=this.__data__;if(R){var n=t[e];return n===i?void 0:n}return _.call(t,e)?t[e]:void 0},w.prototype.has=function(e){var t=this.__data__;return R?void 0!==t[e]:_.call(t,e)},w.prototype.set=function(e,t){return this.__data__[e]=R&&void 0===t?i:t,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(e){var t=this.__data__,n=C(t,e);return!(n<0||(n==t.length-1?t.pop():O.call(t,n,1),0))},L.prototype.get=function(e){var t=this.__data__,n=C(t,e);return n<0?void 0:t[n][1]},L.prototype.has=function(e){return C(this.__data__,e)>-1},L.prototype.set=function(e,t){var n=this.__data__,r=C(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},S.prototype.clear=function(){this.__data__={hash:new w,map:new(N||L),string:new w}},S.prototype.delete=function(e){return D(this,e).delete(e)},S.prototype.get=function(e){return D(this,e).get(e)},S.prototype.has=function(e){return D(this,e).has(e)},S.prototype.set=function(e,t){return D(this,e).set(e,t),this};var k=V((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(j(e))return x?x.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(u,(function(e,t,r,i){n.push(r?i.replace(l,"$1"):t||e)})),n}));function P(e){if("string"==typeof e||j(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function V(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(V.Cache||S),n}V.Cache=S;var M=Array.isArray;function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function j(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==I.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:function(e,t){var n;t=function(e,t){if(M(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!j(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:M(n=t)?n:k(n);for(var r=0,i=t.length;null!=e&&r<i;)e=e[P(t[r++])];return r&&r==i?e:void 0}(e,t);return void 0===r?n:r}},697:e=>{!function(){function t(e,t){var n,r,i,o,a,s,u,l;for(n=3&e.length,r=e.length-n,i=t,a=3432918353,s=461845907,l=0;l<r;)u=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(l+2))<<16;case 2:u^=(255&e.charCodeAt(l+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(l)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var n=t;n.v2=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},n.v3=t,e.exports=n}()},611:(e,t,n)=>{var r=n(339);r((()=>{var e;window.OptimizelyClient.getVariationName({experimentKey:"dd_merge_devhub_docs_experiment_test",groupExperimentName:"q3_fy22_docs_disco_experiment_group_test",attributes:{windowWidth:null!==(e=window.innerWidth)&&void 0!==e?e:0}}).then((e=>{"treatment"===e&&window.innerWidth>=992&&(r(".global-nav--component").addClass("dd-global-nav--component"),r(".dd-global-nav--links").show(),r(".dd-global-nav--links a").click((function(){window.AnalyticsClient.trackAction("docs-devhub-nav-merge-link-clicked",{link:this.href})})),r("aside.full-height").css("top","111px"))}))}))},879:(e,t,n)=>{var r=n(339);r((()=>{window.OptimizelyClient.getVariationName({experimentKey:"dd_add_orb_section_to_docs_landing_page_test",groupExperimentName:"q3_fy22_docs_disco_experiment_group_test"}).then((e=>{"treatment"===e&&(r(".orb-bullet").css("visibility","hidden"),r("#orb-section").css("visibility","visible"),r("#orb-content-swap").replaceWith("<a id=orb-kit href=https://circleci.com/docs/2.0/creating-orbs/#orb-development-kit>Orb Development Kit</a>"),r("#orb-intro, #orb-concepts, #orb-publish, #orb-faq, #orb-kit").click((function(){window.AnalyticsClient.trackAction("docs-orb-bullet",{link:this.id})})))}))}))},229:()=>{var e;const t="growth-experiments-force-all",n="circleci-doc-preview.s3-website-us-east-1.amazonaws.com",r=()=>{const e=location.href.match(`${n}/.*-preview/`);return e.length?e[0]:null};forceAll=()=>{let e=!1;if(window.location.host===n){var i;const n=r();e=(null!==(i=localStorage.getItem(t))&&void 0!==i?i:"")===n}return e||localStorage.removeItem(t),e};const i=window.location;i.host===n&&new RegExp("[?&]force-all").test(null!==(e=i.href)&&void 0!==e?e:"")&&localStorage.setItem(t,r())},95:()=>{window.onload=()=>{window.OptimizelyClient.getVariationName({experimentKey:"dd_add_copy_code_button_to_docs",groupExperimentName:"q3_fy22_docs_disco_experiment_group_test"}).then((function(e){if("treatment"===e){var t={templateSelector:"#CodeBadgeTemplate",contentSelector:"body",loadDelay:0,copyIconClass:"fa fa-copy",copyIconContent:"",checkIconClass:"fa fa-check text-success",checkIconContent:"",onBeforeCodeCopied:function(e){return window.AnalyticsClient.trackAction("docs-copy-code-clicked",{page:location.pathname}),e}};window.highlightJsBadge(t)}}))}},331:(e,t,n)=>{var r=n(339);r((()=>{var e;window.OptimizelyClient.getVariationName({experimentKey:"dd_docs_related_resources_mvp_test",groupExperimentName:"q3_fy22_docs_disco_experiment_group_test",attributes:{windowWidth:null!==(e=window.innerWidth)&&void 0!==e?e:0}}).then((e=>{"treatment"===e&&(r("#related-resources").show(),r("#related-resources li a").click((function(){window.AnalyticsClient.trackAction("docs-related-resources-clicked",{page:location.pathname,link:r(this).attr("href"),name:r(this).text()})})))}))}))},538:(e,t,n)=>{var r=n(339);r((()=>{window.OptimizelyClient.getVariationName({experimentKey:"dd_surfacing_full_example_config_experiment_test",groupExperimentName:"q3_fy22_docs_disco_experiment_group_test"}).then((e=>{"treatment"===e&&(r("#full-config-example").css("visibility","visible"),r("#full-config-example").click((function(){window.AnalyticsClient.trackAction("docs-full-config-example-link",{link:this.id})})))}))}))},947:(e,t,n)=>{var r=n(339);r(document).ready(void r(".global-nav--search-button").on("click",(function(e){e.preventDefault(),r("body").addClass("search-open"),r(".global-nav--search-bar .instantsearch-search").focus()}))),r(document).ready((function(){r("#global-nav").on("show.bs.collapse",(function(){r("body").addClass("global-nav-open")})),r("#global-nav").on("hide.bs.collapse",(function(){r("body").removeClass("global-nav-open")}))})),Array.from(document.querySelectorAll("nav li.arrow")).forEach((function(e){e.addEventListener("click",(function(){this.classList.contains("collapsed")?this.classList.remove("collapsed"):this.classList.add("collapsed")}))})),r(document).ready((function(){r(".nav-item").each((function(){var e=r(this);e.find("a").on("focus",(function(){e.addClass("submenu-open"),e.attr("aria-expanded",!0)})),e.on("focusout",(function(){e.removeClass("submenu-open"),e.attr("aria-expanded",!1)}))}))}))},417:(e,t,n)=>{var r=n(339);window.addEventListener("load",(function(){var e,t,n,i=document.querySelector(".footer"),o=document.querySelector(".sidebar"),a=document.querySelector(".sidebar-mobile-wrapper"),s=a.querySelector('[data-id="getting-started"]'),u="getting-started",l=o.querySelector(".active");function c(e){var t=e.querySelector("[data-section="+u+"]");t&&t.classList.contains("closed")&&t.classList.remove("closed")}l&&(u=l.getAttribute("data-section")),c(o),c(a),e=r("nav.sidebar .active")[0],t=r("nav.sidebar")[0].offsetTop,n=(e&&e.offsetTop)-t,r("nav.sidebar").scrollTop(n);var f=a.querySelector("[data-id="+u+"]");f&&f.classList.contains("hidden")&&(f.classList.remove("hidden"),s.classList.add("hidden")),window.addEventListener("load",(function(){i.getBoundingClientRect().top-window.innerHeight<=0&&i.getBoundingClientRect().top>=window.innerHeight?o.classList.contains("fixed")&&o.classList.remove("fixed"):o.classList.contains("fixed")||o.classList.add("fixed"),i.getBoundingClientRect().top<=window.innerHeight?o.style.height=i.getBoundingClientRect().top-70+"px":o.style.height=null}));var d=Array.from(document.querySelectorAll("nav.sidebar .main-nav-item")),p=Array.from(document.querySelectorAll("nav.mobile-sidebar .main-nav-item"));function h(e){e.forEach((function(e){e.querySelector(".list-wrap").addEventListener("click",(function(){e.classList.contains("closed")?e.classList.remove("closed"):e.classList.add("closed")}))}))}h(d),h(p)}))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e);var t={};n.r(t);var r,i=n(929),o=n.n(i),a=(n(916),n(533)),s=new Uint8Array(16);function u(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(s)}const l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&l.test(e)};for(var f=[],d=0;d<256;++d)f.push((d+256).toString(16).substr(1));const p=function(e,t,n){var r=(e=e||{}).random||(e.rng||u)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(f[e[t+0]]+f[e[t+1]]+f[e[t+2]]+f[e[t+3]]+"-"+f[e[t+4]]+f[e[t+5]]+"-"+f[e[t+6]]+f[e[t+7]]+"-"+f[e[t+8]]+f[e[t+9]]+"-"+f[e[t+10]]+f[e[t+11]]+f[e[t+12]]+f[e[t+13]]+f[e[t+14]]+f[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n}(r)},h="growth-experiments-participated",g="https://circleci.com"===window.location.origin?"error":"info";a.Ub(g);const v=(e,t)=>{try{const n=JSON.parse(localStorage.getItem(h));return n&&Object.prototype.hasOwnProperty.call(n,e)&&n[e]&&Object.prototype.hasOwnProperty.call(n[e],t)}catch(e){return!1}},y=(e,t,n)=>{if(!e||!t||!n)return;let r;try{var i;r=null!==(i=JSON.parse(localStorage.getItem(h)))&&void 0!==i?i:{}}catch(e){r={}}r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t]={variationName:n,createdAt:(new Date).getTime()};try{localStorage.setItem(h,JSON.stringify(r))}catch(e){}};class m{static getSessionId(){var e=Number(o().get("amplitude-session-id"));return(Number.isNaN||(e=>e!=e))(e)?Date.now():e}static trackAction(e,t){var n;E()||(t=null!==(n=t)&&void 0!==n?n:null,window.analytics&&window.analytics.track(e,t,{integrations:{Amplitude:{session_id:m.getSessionId()}}}))}static trackUser(e,t){var n;E()||(t=null!==(n=t)&&void 0!==n?n:null,window.analytics&&window.analytics.identify(e,t,{integrations:{Amplitude:{session_id:m.getSessionId()}}}))}static trackPage(e,t){var n;E()||(t=null!==(n=t)&&void 0!==n?n:null,window.analytics&&window.analytics.page("docs",e,t,{integrations:{Amplitude:{session_id:m.getSessionId()}}}))}}const E=()=>!0===window._DATADOG_SYNTHETICS_BROWSER,_=m;window.trackEvent=(e,t,n,r)=>{window.analytics&&analytics.track(e,t,n,(function(){((e,t,n,r)=>{let i=new Date;i.setMinutes(i.getMinutes()+30),i=i.toUTCString(),document.cookie="amplitude-session-id="+t+"; path=/; expires="+i})(0,getSessionId()),r&&r()}))};var I=n(320),T=n(339);const b=I(window.circleJsConfig,"page.lang","en"),O="en"===(N=b)?"":`/${N}`;var N;const R=`${window.circleJsConfig.url.devhub}${O}/images/image`,A=window.circleJsConfig.algolia.appId,x=window.circleJsConfig.algolia.apiKey,w=window.circleJsConfig.algolia.indexName,L=window.circleJsConfig.algolia.indexNameOrbs,S=window.circleJsConfig.algolia.indexNameCimgs,C=(e=>"en"===e?"cci2":`cci2_${e}`)(b);function D(e){return document.getElementById(e)}var U={en:{name:"English",url:"docs/"},ja:{name:"日本語",url:"docs/ja/"}},k={sidebarLangSelect:D("sidebarLangSelect"),footerLangSelect:D("footerLangSelect"),footerLangOptions:D("footerLangOptions")};function P(e){window.location.href=function(e){const t=new RegExp("^(https?://"+window.location.host+"/)(docs/[a-z]{2}/|docs/)(.*)","s"),n="https://circleci.com/"+U[e].url+"2.0";return t.test(window.location.href)?window.location.href.replace(t,"$1"+U[e].url+"$3"):n}(e)}var V=n(339);function M(e){window.userData=e;const{name:t,jekyllProperties:n}=window.currentPage;window.userData.created_at?AnalyticsClient.trackPage(t,{...n,user_account_created_at:e.created_at}):AnalyticsClient.trackPage(t,n);const r=new CustomEvent("userDataReady");window.dispatchEvent(r)}function F(){const e=window.AnalyticsClient.getSessionId();o().set("amplitude-session-id",e,{expires:1/24/60*30}),window.AnalyticsClient.trackUser(userData.analytics_id)}V((function(){"true"===o().get("cci-customer")&&V(document.body).addClass("loggedin"),V.ajax({url:"https://circleci.com/api/v1/me",xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4}).done((function(e){!function(e){V(document.body).addClass("loggedin"),o().set("cci-customer","true",{expires:3650}),M(e)}(e),F()})).fail((function(){V(document.body).removeClass("loggedin"),o().set("cci-customer","false",{expires:3650}),M({})}))}));var j=n(417),B=n.n(j),H=n(947),q=n.n(H);function G(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function K(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function W(e){var t=K(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Y(e){return e instanceof K(e).Element||e instanceof Element}function z(e){return e instanceof K(e).HTMLElement||e instanceof HTMLElement}function $(e){return"undefined"!=typeof ShadowRoot&&(e instanceof K(e).ShadowRoot||e instanceof ShadowRoot)}function X(e){return e?(e.nodeName||"").toLowerCase():null}function J(e){return((Y(e)?e.ownerDocument:e.document)||window.document).documentElement}function Z(e){return G(J(e)).left+W(e).scrollLeft}function Q(e){return K(e).getComputedStyle(e)}function ee(e){var t=Q(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function te(e,t,n){void 0===n&&(n=!1);var r,i,o=z(t),a=z(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),s=J(t),u=G(e,a),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&(("body"!==X(t)||ee(s))&&(l=(r=t)!==K(r)&&z(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:W(r)),z(t)?((c=G(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=Z(s))),{x:u.left+l.scrollLeft-c.x,y:u.top+l.scrollTop-c.y,width:u.width,height:u.height}}function ne(e){var t=G(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function re(e){return"html"===X(e)?e:e.assignedSlot||e.parentNode||($(e)?e.host:null)||J(e)}function ie(e){return["html","body","#document"].indexOf(X(e))>=0?e.ownerDocument.body:z(e)&&ee(e)?e:ie(re(e))}function oe(e,t){var n;void 0===t&&(t=[]);var r=ie(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=K(r),a=i?[o].concat(o.visualViewport||[],ee(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(oe(re(a)))}function ae(e){return["table","td","th"].indexOf(X(e))>=0}function se(e){return z(e)&&"fixed"!==Q(e).position?e.offsetParent:null}function ue(e){for(var t=K(e),n=se(e);n&&ae(n)&&"static"===Q(n).position;)n=se(n);return n&&("html"===X(n)||"body"===X(n)&&"static"===Q(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&z(e)&&"fixed"===Q(e).position)return null;for(var n=re(e);z(n)&&["html","body"].indexOf(X(n))<0;){var r=Q(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var le="top",ce="bottom",fe="right",de="left",pe="auto",he=[le,ce,fe,de],ge="start",ve="end",ye="viewport",me="popper",Ee=he.reduce((function(e,t){return e.concat([t+"-"+ge,t+"-"+ve])}),[]),_e=[].concat(he,[pe]).reduce((function(e,t){return e.concat([t,t+"-"+ge,t+"-"+ve])}),[]),Ie=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Te(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var be={placement:"bottom",modifiers:[],strategy:"absolute"};function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Ne(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?be:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},be,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,c={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;f(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:Y(e)?oe(e):e.contextElement?oe(e.contextElement):[],popper:oe(t)};var a,l,d=function(e){var t=Te(e);return Ie.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),l=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return s.orderedModifiers=d.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:c,options:r});u.push(o||function(){})}})),c.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,n=e.popper;if(Oe(t,n)){s.rects={reference:te(t,ue(n),"fixed"===s.options.strategy),popper:ne(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,u=void 0===a?{}:a,f=i.name;"function"==typeof o&&(s=o({state:s,options:u,name:f,instance:c})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){c.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){f(),l=!0}};if(!Oe(e,t))return c;function f(){u.forEach((function(e){return e()})),u=[]}return c.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var Re={passive:!0};const Ae={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=K(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,Re)})),s&&u.addEventListener("resize",n.update,Re),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Re)})),s&&u.removeEventListener("resize",n.update,Re)}},data:{}};function xe(e){return e.split("-")[0]}function we(e){return e.split("-")[1]}function Le(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Se(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?xe(i):null,a=i?we(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case le:t={x:s,y:n.y-r.height};break;case ce:t={x:s,y:n.y+n.height};break;case fe:t={x:n.x+n.width,y:u};break;case de:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var l=o?Le(o):null;if(null!=l){var c="y"===l?"height":"width";switch(a){case ge:t[l]=t[l]-(n[c]/2-r[c]/2);break;case ve:t[l]=t[l]+(n[c]/2-r[c]/2)}}return t}const Ce={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Se({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var De=Math.max,Ue=Math.min,ke=Math.round,Pe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ve(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:ke(ke(t*r)/r)||0,y:ke(ke(n*r)/r)||0}}(a):"function"==typeof c?c(a):a,d=f.x,p=void 0===d?0:d,h=f.y,g=void 0===h?0:h,v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),m=de,E=le,_=window;if(l){var I=ue(n),T="clientHeight",b="clientWidth";I===K(n)&&"static"!==Q(I=J(n)).position&&"absolute"===s&&(T="scrollHeight",b="scrollWidth"),I=I,i!==le&&(i!==de&&i!==fe||o!==ve)||(E=ce,g-=I[T]-r.height,g*=u?1:-1),i!==de&&(i!==le&&i!==ce||o!==ve)||(m=fe,p-=I[b]-r.width,p*=u?1:-1)}var O,N=Object.assign({position:s},l&&Pe);return u?Object.assign({},N,((O={})[E]=y?"0":"",O[m]=v?"0":"",O.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",O)):Object.assign({},N,((t={})[E]=y?g+"px":"",t[m]=v?p+"px":"",t.transform="",t))}var Me={left:"right",right:"left",bottom:"top",top:"bottom"};function Fe(e){return e.replace(/left|right|bottom|top/g,(function(e){return Me[e]}))}var je={start:"end",end:"start"};function Be(e){return e.replace(/start|end/g,(function(e){return je[e]}))}function He(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&$(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ge(e,t){return t===ye?qe(function(e){var t=K(e),n=J(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+Z(e),y:s}}(e)):z(t)?function(e){var t=G(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):qe(function(e){var t,n=J(e),r=W(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=De(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=De(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Z(e),u=-r.scrollTop;return"rtl"===Q(i||n).direction&&(s+=De(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(J(e)))}function Ke(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function We(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Ye(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,u=void 0===s?ye:s,l=n.elementContext,c=void 0===l?me:l,f=n.altBoundary,d=void 0!==f&&f,p=n.padding,h=void 0===p?0:p,g=Ke("number"!=typeof h?h:We(h,he)),v=c===me?"reference":me,y=e.rects.popper,m=e.elements[d?v:c],E=function(e,t,n){var r="clippingParents"===t?function(e){var t=oe(re(e)),n=["absolute","fixed"].indexOf(Q(e).position)>=0&&z(e)?ue(e):e;return Y(n)?t.filter((function(e){return Y(e)&&He(e,n)&&"body"!==X(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=Ge(e,n);return t.top=De(r.top,t.top),t.right=Ue(r.right,t.right),t.bottom=Ue(r.bottom,t.bottom),t.left=De(r.left,t.left),t}),Ge(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Y(m)?m:m.contextElement||J(e.elements.popper),a,u),_=G(e.elements.reference),I=Se({reference:_,element:y,strategy:"absolute",placement:i}),T=qe(Object.assign({},y,I)),b=c===me?T:_,O={top:E.top-b.top+g.top,bottom:b.bottom-E.bottom+g.bottom,left:E.left-b.left+g.left,right:b.right-E.right+g.right},N=e.modifiersData.offset;if(c===me&&N){var R=N[i];Object.keys(O).forEach((function(e){var t=[fe,ce].indexOf(e)>=0?1:-1,n=[le,ce].indexOf(e)>=0?"y":"x";O[e]+=R[n]*t}))}return O}const ze={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=void 0===p||p,g=n.allowedAutoPlacements,v=t.options.placement,y=xe(v),m=u||(y!==v&&h?function(e){if(xe(e)===pe)return[];var t=Fe(e);return[Be(e),t,Be(t)]}(v):[Fe(v)]),E=[v].concat(m).reduce((function(e,n){return e.concat(xe(n)===pe?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?_e:u,c=we(r),f=c?s?Ee:Ee.filter((function(e){return we(e)===c})):he,d=f.filter((function(e){return l.indexOf(e)>=0}));0===d.length&&(d=f);var p=d.reduce((function(t,n){return t[n]=Ye(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[xe(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:f,padding:l,flipVariations:h,allowedAutoPlacements:g}):n)}),[]),_=t.rects.reference,I=t.rects.popper,T=new Map,b=!0,O=E[0],N=0;N<E.length;N++){var R=E[N],A=xe(R),x=we(R)===ge,w=[le,ce].indexOf(A)>=0,L=w?"width":"height",S=Ye(t,{placement:R,boundary:c,rootBoundary:f,altBoundary:d,padding:l}),C=w?x?fe:de:x?ce:le;_[L]>I[L]&&(C=Fe(C));var D=Fe(C),U=[];if(o&&U.push(S[A]<=0),s&&U.push(S[C]<=0,S[D]<=0),U.every((function(e){return e}))){O=R,b=!1;break}T.set(R,U)}if(b)for(var k=function(e){var t=E.find((function(t){var n=T.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},P=h?3:1;P>0&&"break"!==k(P);P--);t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $e(e,t,n){return De(e,Ue(t,n))}function Xe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Je(e){return[le,fe,ce,de].some((function(t){return e[t]>=0}))}var Ze=Ne({defaultModifiers:[Ae,Ce,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,l={placement:xe(t.placement),variation:we(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ve(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ve(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];z(i)&&X(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});z(r)&&X(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=_e.reduce((function(e,n){return e[n]=function(e,t,n){var r=xe(e),i=[de,le].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[de,fe].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],u=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}},ze,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=void 0===d||d,h=n.tetherOffset,g=void 0===h?0:h,v=Ye(t,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),y=xe(t.placement),m=we(t.placement),E=!m,_=Le(y),I="x"===_?"y":"x",T=t.modifiersData.popperOffsets,b=t.rects.reference,O=t.rects.popper,N="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,R={x:0,y:0};if(T){if(o||s){var A="y"===_?le:de,x="y"===_?ce:fe,w="y"===_?"height":"width",L=T[_],S=T[_]+v[A],C=T[_]-v[x],D=p?-O[w]/2:0,U=m===ge?b[w]:O[w],k=m===ge?-O[w]:-b[w],P=t.elements.arrow,V=p&&P?ne(P):{width:0,height:0},M=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},F=M[A],j=M[x],B=$e(0,b[w],V[w]),H=E?b[w]/2-D-B-F-N:U-B-F-N,q=E?-b[w]/2+D+B+j+N:k+B+j+N,G=t.elements.arrow&&ue(t.elements.arrow),K=G?"y"===_?G.clientTop||0:G.clientLeft||0:0,W=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,Y=T[_]+H-W-K,z=T[_]+q-W;if(o){var $=$e(p?Ue(S,Y):S,L,p?De(C,z):C);T[_]=$,R[_]=$-L}if(s){var X="x"===_?le:de,J="x"===_?ce:fe,Z=T[I],Q=Z+v[X],ee=Z-v[J],te=$e(p?Ue(Q,Y):Q,Z,p?De(ee,z):ee);T[I]=te,R[I]=te-Z}}t.modifiersData[r]=R}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=xe(n.placement),u=Le(s),l=[de,fe].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return Ke("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:We(e,he))}(i.padding,n),f=ne(o),d="y"===u?le:de,p="y"===u?ce:fe,h=n.rects.reference[l]+n.rects.reference[u]-a[u]-n.rects.popper[l],g=a[u]-n.rects.reference[u],v=ue(o),y=v?"y"===u?v.clientHeight||0:v.clientWidth||0:0,m=h/2-g/2,E=c[d],_=y-f[l]-c[p],I=y/2-f[l]/2+m,T=$e(E,I,_),b=u;n.modifiersData[r]=((t={})[b]=T,t.centerOffset=T-I,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&He(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Ye(t,{elementContext:"reference"}),s=Ye(t,{altBoundary:!0}),u=Xe(a,r),l=Xe(s,i,o),c=Je(u),f=Je(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}}]}),Qe=n(339);function et(){document.querySelectorAll(".server-version-badge").forEach((function(e){let t=null;function n(){tooltip.setAttribute("data-show",""),tooltip.innerHTML="This document is applicable to CircleCI "+e.innerText+"<div id='arrow' data-popper-arrow></div>",t=Ze(e,tooltip,{modifiers:[{name:"offset",options:{offset:[0,8]}}]})}function r(){tooltip.removeAttribute("data-show"),t&&(t.destroy(),t=null)}["mouseenter","focus"].forEach((t=>{e.addEventListener(t,n)})),["mouseleave","blur"].forEach((t=>{e.addEventListener(t,r)}))}))}hljs.initHighlightingOnLoad(),window.analyticsTrackProps=function(e){var t={path:document.location.pathname,url:document.location.href,referrer:document.referrer,title:document.title},n=window.userData&&window.userData.login;if(n&&(t.user=n),e){var r=Qe.trim(Qe(e).text());r&&(t.cta_text=r)}return t},window.addEventListener("load",(function(){Array.from(document.querySelectorAll("[data-analytics-action]")).forEach((function(e){e.addEventListener("click",(function(){var e=this.getAttribute("data-analytics-action");e&&trackEvent(e,analyticsTrackProps(this))}))}))})),Qe(document).ready((function(){Qe("#nav-button").click((function(e){e.preventDefault(),Qe("#nav-button").toggleClass("open"),Qe("nav.sidebar").toggleClass("open")}));var e=document.querySelector(".tooltip-popover");Qe("article h1, article h2, article h3, article h4, article h5, article h6").filter("[id]").each((function(){var e="H1"===Qe(this).prop("nodeName");Qe(this).append((e?' <a href="#':'<a href="#'+Qe(this).attr("id"))+'"><i class="fa fa-link"></i></a>'),e&&Qe(this).find("i").toggle()}));var t,n=["mouseover","hover","mouseenter","focus"],r=["mouseout","mouseleave","blur"],i=["click"];window.OptimizelyClient.getVariationName({experimentKey:"dd_share_section_icon_test",groupExperimentName:"q3_fy22_docs_disco_experiment_group_test"}).then((t=>{"treatment"===t&&document.querySelectorAll(".fa-link").forEach((t=>{(t=>{Object.assign(t,{show(){e.setAttribute("data-show",""),e.innerHTML="Copy link<div id='arrow' data-popper-arrow></div>",t.instance=Ze(t,e,{modifiers:[{name:"offset",options:{offset:[0,8]}}]}),window.AnalyticsClient.trackAction("docs-share-button-hover",{page:location.pathname,success:!0})},copy(n){var r;n.preventDefault(),null===(r=navigator)||void 0===r||r.clipboard.writeText(n.target.href).then((()=>{t.hide(),e.setAttribute("data-show",""),e.innerHTML="Copied!<div id='arrow' data-popper-arrow></div>",t.instance=Ze(t,e,{modifiers:[{name:"offset",options:{offset:[0,8]}}]}),window.history.pushState({},document.title,n.target.href),window.AnalyticsClient.trackAction("docs-share-button-click",{page:location.pathname,success:!0})})).catch((e=>window.AnalyticsClient.trackAction("docs-share-button-click",{page:location.pathname,success:!1,error:e})))},hide(){e.removeAttribute("data-show"),t.instance&&(t.instance.destroy(),t.instance=null)}})})(t),n.forEach((e=>{t.parentElement.addEventListener(e,t.show)})),r.forEach((e=>{t.parentElement.addEventListener(e,t.hide)})),i.forEach((e=>{t.parentElement.addEventListener(e,t.copy)}))}))})),Qe("article h1, article h2, article h3, article h4, article h5, article h6").filter("[id]").hover((function(){Qe(this).find("i").toggle()})),t={},Qe(".tab").toArray().reduce((function(e,n){var r=[].slice.call(n.classList),i=r.indexOf("tab"),o=r.splice(i,3).concat(r),a=o[1];return Qe(n).removeClass().addClass(o.join(" ")),void 0===t[a]?t[a]={els:[n],selector:"."+a,tabGroup:a}:t[a].els=t[a].els.concat([n]),t}),t),Qe.each(t,(function(e,t){var n="tabWrapper-"+e,r="tabGroup-"+e;Qe.each(t.els,(function(e,t){0!==e&&Qe(t).hide()})),Qe(t.selector).wrapAll(Qe("<div>").addClass("tabWrapper "+n)),Qe("."+n).append(Qe("<div>").addClass("tabGroup "+r)),Qe.each(t.els,(function(e,t){if(0===e)n="realtab "+t.className+" realtab-active";else var n="realtab "+t.className;var i=t.className.split(" ")[2];Qe("."+r).append(Qe("<div>").addClass(n).text(i.replace(/__/g,".").replace(/_/g," ")))}))})),Qe(".realtab").click((function(e){Qe(e.target).siblings().removeClass("realtab-active"),Qe(e.target).addClass("realtab-active");var t=".tab."+e.target.classList[2],n=".tab."+e.target.className.split(" ").slice(2,4).join(".");Qe(t).not(".realtab").hide(),Qe(n).not(".realtab").show()})),Qe(".tabGroup").each((function(){var e;(e=Qe(this)).prop("scrollWidth")>e.prop("offsetWidth")&&e.siblings(".tab").css("margin-top","15px")})),et()})),Qe(document).ready((function(){Qe("#main a").not(".license-notice *").each((function(){Qe(this).wrap("<div class='external-link-tag-wrapper'></div>"),this.origin.includes(window.location.origin)||(Qe('<span class="external-link-icon"><svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M9.33318 10.6667H1.33318V2.66667H4.66651V1.33333H0.959845C0.699845 1.32667 0.453179 1.42 0.273179 1.6C0.086512 1.77333 -0.00682137 2.02 -0.000154701 2.27333V11.0667C-0.00682137 11.32 0.086512 11.56 0.273179 11.74C0.453179 11.92 0.706512 12.0133 0.959845 12.0067H9.70651C10.2398 12.0067 10.6665 11.5867 10.6665 11.0667V7.33333H9.33318V10.6667ZM9.72651 1.33333H7.33318C6.96651 1.33333 6.66651 1.03333 6.66651 0.666667C6.66651 0.3 6.96651 0 7.33318 0H11.3332C11.6998 0 11.9998 0.3 11.9998 0.666667V4.66667C11.9998 5.03333 11.6998 5.33333 11.3332 5.33333C10.9665 5.33333 10.6665 5.03333 10.6665 4.66667V2.27333L7.91985 5.02C7.65985 5.28 7.23985 5.28 6.97985 5.02C6.71985 4.76 6.71985 4.34 6.97985 4.08L9.72651 1.33333Z" fill="currentColor"></path></svg></span>').appendTo(this),Qe(this).attr("target","_blank"),Qe(this).attr("rel","noopener noreferrer"))}))}));var tt=n(538),nt=n.n(tt),rt=n(331),it=n.n(rt),ot=n(95),at=n.n(ot),st=n(229),ut=n.n(st),lt=n(879),ct=n.n(lt),ft=n(611),dt=n.n(ft);const pt={};pt.User=e.default,pt.Sidebar=B(),pt.Nav=q(),pt.Main=t.default;const ht={};ht.SurfaceFullExampleConfig=nt(),ht.RelatedResources=it(),ht.HighlightJSBadge=at(),ht.ForceAll=ut(),ht.AddOrbSection=ct(),ht.DevHubDocsNav=dt(),function(){const e=instantsearch({indexName:w,searchClient:algoliasearch(A,x),routing:!0,searchFunction:function(e){""!==e.state.query&&e.search()}});e.addWidgets([instantsearch.widgets.configure({filters:`collection: ${C}`,hitsPerPage:25}),instantsearch.widgets.searchBox({container:"#search-box",cssClasses:{input:"instantsearch-search"},placeholder:"Search Documentation",showLoadingIndicator:!1}),instantsearch.widgets.hits({container:"#instant-hits",escapeHits:!0,templates:{empty:"No Documentation results",item:e=>{let t=e.url;e.anchor&&(t+=`#${e.anchor}`);const n=e._snippetResult,r=I(n,["title","value"],"(untitled)"),i=I(n,["content","value"],"");return`\n            <a href="/docs${t}">\n              <div class="result-item-wrap">\n                <h4 class="result-title">${r}</h4>\n                ${n.headings?`<p class="result-context">${n.headings.map((e=>e.value)).join(" > ")}</p>`:""}\n                <p class="result-content">${i}</p>\n              </div>\n            </a>\n          `}}}),instantsearch.connectors.connectStats((function(e){const{nbHits:t}=e;document.querySelector(".hits-count-docs").innerHTML=t}))(),instantsearch.widgets.index({indexName:L}).addWidgets([instantsearch.widgets.configure({filters:""}),instantsearch.widgets.hits({container:"#instant-hits-orbs",escapeHits:!0,templates:{empty:"No Orbs results",item:e=>{const t=I(e._highlightResult,["full_name","value"],e.full_name),n=I(e._highlightResult,["description","value"],e.description),r=I(e,["last_updated_at","formatted"]),i=`<h4 class="result-title">${t} <i class="fa fa-external-link" aria-hidden="true"></i></h4>`,o=n?`<p class="result-content">${n}</p>`:"",a=r?`<p class="result-context"><strong>Version Published:</strong> ${r}</p>`:"",s=e.is_certified?'<span class="result-tag">Certified</span>':"",u=e.is_partner?'<span class="result-tag">Partner</span>':"";return`\n                <a href="${e.url}">\n                  <div class="result-item-wrap">\n                    ${i}\n                    ${a}\n                    ${o}\n                    ${s}\n                    ${u}\n                  </div>\n                </a>\n              `}}}),instantsearch.connectors.connectStats((function(e){const{nbHits:t}=e;document.querySelector(".hits-count-orbs").innerHTML=t}))()]),instantsearch.widgets.index({indexName:S}).addWidgets([instantsearch.widgets.configure({filters:""}),instantsearch.widgets.hits({container:"#instant-hits-cimgs",escapeHits:!0,templates:{empty:"No Convenience Images results",item:e=>{const t=I(e._highlightResult,["name","value"],e.name),n=I(e._highlightResult,["description",b,"value"],e.description.en),r=I(e,["latestVersion"]),i=`<h4 class="result-title">${t} <i class="fa fa-external-link" aria-hidden="true"></i></h4>`,o=n?`<p class="result-content">${n}</p>`:"",a=r?`<p class="result-context"><strong>Latest version:</strong> ${r}</p>`:"";return`\n                <a href="${R}/${e.name}">\n                  <div class="result-item-wrap">\n                    ${i}\n                    ${a}\n                    ${o}\n                  </div>\n                </a>\n              `}}}),instantsearch.connectors.connectStats((function(e){const{nbHits:t}=e;document.querySelector(".hits-count-cimgs").innerHTML=t}))()])]),e.start();var t=document.querySelector("#search-box .ais-SearchBox-reset"),n=document.querySelector(".main-searchbar--cancel-button"),r=document.querySelector("input.instantsearch-search"),i=document.querySelector("body"),o=document.querySelector("#hits-target"),a=document.querySelector(".main-searchbar form");function s(){r.value.length>0?(window.scrollTo(0,0),t.removeAttribute("hidden"),i.classList.add("search-open"),window.dispatchEvent(new Event("shown.subnav"))):(t.setAttribute("hidden",""),Array.from(o.querySelectorAll(".hits-count-counter")).forEach((function(e){e.innerText=e.dataset.initialValue})),Array.from(o.querySelectorAll(".instant-hits")).forEach((function(e){e.innerHTML=""})))}function u(){t.click(),s()}r.addEventListener("keyup",s),a.addEventListener("submit",(function(e){e.preventDefault(),s()})),window.addEventListener("load",s),t.addEventListener("click",u),n.addEventListener("click",(function(e){e.preventDefault(),u(),r.blur(),i.classList.remove("search-open")})),T(o).find('a[data-toggle="tab"]').on("shown.bs.tab",(function(){T("html, body").animate({scrollTop:0})}))}(),k.sidebarLangSelect.addEventListener("change",(function(e){switch(e.target.value){case"ja":P("ja");break;case"en":P("en");break;default:return}})),function(){for(var e,t=window.currentLang,n=0;e=k.sidebarLangSelect.options[n];n++)if(e.value==t){k.sidebarLangSelect.selectedIndex=n;break}}(),window.Cookie=i,window.AnalyticsClient=_,window.OptimizelyClient=new class{constructor(){this.client=a.Fs({datafile:window.optimizelyDatafile})}getUserId(){return new Promise((e=>{window.userData?e(window.userData.analytics_id?window.userData.analytics_id:null):window.addEventListener("userDataReady",(()=>{e(window.userData.analytics_id?window.userData.analytics_id:null)}))}))}getVariationName(e){return new Promise(((t,n)=>{var r,i;if(forceAll())return t("treatment");if(!e||!e.experimentKey||!e.groupExperimentName)return n({error:"Missing required options"});const a=null!==(r=e.attributes)&&void 0!==r?r:{},s=null!==(i=o().get("cci-org-analytics-id"))&&void 0!==i?i:null;if(!s)return t(null);this.getUserId().then((n=>{if(!n)return t(null);this.client.onReady({timeout:1e4}).then((()=>{if("treatment"===this.client.getVariation(e.groupExperimentName,n,{...a,id:n,$opt_bucketing_id:s})){var r,i;const o=this.client.getVariation(e.experimentKey,n,{...a,id:n,$opt_bucketing_id:s});t(o);const u=this.client.getOptimizelyConfig(),l=null!==(r=u.experimentsMap[e.experimentKey].id)&&void 0!==r?r:"",c=null!==(i=u.experimentsMap[e.experimentKey].variationsMap[o].id)&&void 0!==i?i:"";((e,t,n,r,i,o)=>{if(!v(e,t)){const a={id:p(),timestamp:(new Date).toISOString(),experimentId:n,experimentName:t,allocationType:"organization_id",orgId:e,projectId:null,userId:o,variationId:i,variationName:r};window.AnalyticsClient.trackAction("Experiment Viewed",a),y(e,t,r)}})(s,e.experimentKey,l,o,c,n)}else t(null)})).catch((()=>{t(null)}))}))}))}}})()})();